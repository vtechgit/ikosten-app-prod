<div class="restore-password-container">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="back-button-container">
      <ion-button 
        fill="clear" 
        routerLink="/auth/login" 
        routerDirection="back"
        class="back-button">
        <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
        {{'buttons.back' | translate}}
      </ion-button>
    </div>
    <div class="welcome-content">
      <ion-img class="full-logo-img" src="../../../assets/images/ikosten_identificador_blanco_no_slogan.png"></ion-img>
      <h1 class="welcome-title">{{'titles.modules.restore-password.title' | translate}}</h1>
      <p class="welcome-subtitle">{{'titles.modules.restore-password.subtitle' | translate}}</p>
    </div>
  </div>

  <!-- Restore Password Form -->
  <div class="restore-form-section">
    <div class="form-card">
      <form [formGroup]="restoreForm" class="restore-form">
        <div class="form-header">
          <ion-icon name="mail-outline" class="form-icon"></ion-icon>
          <h2 class="form-title">{{'titles.modules.restore-password.form-title' | translate}}</h2>
          <p class="form-description">{{'titles.modules.restore-password.form-description' | translate}}</p>
        </div>

        <div class="form-fields">
          <div class="input-group">
            <ion-item class="custom-input" [class.error]="email.hasError('required') || email.hasError('email')">
              <ion-input 
                label="{{'inputs.email.title' | translate}}" 
                type="email" 
                labelPlacement="floating" 
                placeholder="{{'inputs.email.placeholder' | translate}}"
                name="restoreEmail" 
                formControlName="restoreEmail">
              </ion-input>
              <ion-icon name="mail-outline" slot="start" class="input-icon"></ion-icon>
            </ion-item>
            <div class="error-message" *ngIf="email.hasError('required') || email.hasError('email')">
              {{'inputs.email.title' | translate}} {{'errors.inputs.invalid' | translate}}
            </div>
          </div>
        </div>

        <div class="form-actions">
          <ion-button 
            [disabled]="isLoading || !restoreForm.valid" 
            expand="block" 
            (click)="restorePass()" 
            color="primary" 
            class="restore-button">
            <ion-spinner name="crescent" *ngIf="isLoading"></ion-spinner>
            <span *ngIf="!isLoading">{{'buttons.restore-password' | translate}}</span>
            <ion-icon *ngIf="!isLoading" name="send-outline" slot="end"></ion-icon>
          </ion-button>

          <div class="login-section">
            <ion-button 
              expand="block" 
              routerLink="/auth/login" 
              routerDirection="back" 
              fill="clear" 
              class="login-link-button">
              <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
              {{'buttons.back-to-login' | translate}}
            </ion-button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<ion-alert
  header="{{'alerts.reset-password.success.header' | translate}}"
  subHeader="{{'alerts.reset-password.success.subtitle' | translate}}"
  [buttons]="alertButtons"
  [isOpen]="showAlertSubmit"
  (didDismiss)="backToLogin()"
></ion-alert>
