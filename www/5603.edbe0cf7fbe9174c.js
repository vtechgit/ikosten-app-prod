"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5603],{5603:(dn,J,k)=>{k.r(J),k.d(J,{MainPageModule:()=>en});var v=k(177),T=k(4341),_=k(1075),W=k(8986),M=k(9969),u=k(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var w=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(w||{});class G extends Error{constructor(r,t,o){super(r),this.message=r,this.code=t,this.data=o}}const ce=n=>{var r,t,o,i,s;const a=n.CapacitorCustomPlatform||null,l=n.Capacitor||{},d=l.Plugins=l.Plugins||{},c=n.CapacitorPlatforms,p=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==a?a.name:(n=>{var r,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(r=null==n?void 0:n.webkit)||void 0===r?void 0:r.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),m=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==p()),tn=(null===(o=null==c?void 0:c.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(g=>{const f=U.get(g);return!!(null!=f&&f.platforms.has(p())||ne(g))}),ne=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(g=>{var f;return null===(f=l.PluginHeaders)||void 0===f?void 0:f.find(B=>B.name===g)}),U=new Map,an=(null===(s=null==c?void 0:c.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((g,f={})=>{const B=U.get(g);if(B)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),B.proxy;const y=p(),C=ne(g);let F;const ln=function(){var h=(0,u.A)(function*(){return!F&&y in f?F=F="function"==typeof f[y]?yield f[y]():f[y]:null!==a&&!F&&"web"in f&&(F=F="function"==typeof f.web?yield f.web():f.web),F});return function(){return h.apply(this,arguments)}}(),H=h=>{let x;const j=(...I)=>{const P=ln().then(E=>{const R=((h,x)=>{var j,I;if(!C){if(h)return null===(I=h[x])||void 0===I?void 0:I.bind(h);throw new G(`"${g}" plugin is not implemented on ${y}`,w.Unimplemented)}{const P=null==C?void 0:C.methods.find(E=>x===E.name);if(P)return"promise"===P.rtype?E=>l.nativePromise(g,x.toString(),E):(E,R)=>l.nativeCallback(g,x.toString(),E,R);if(h)return null===(j=h[x])||void 0===j?void 0:j.bind(h)}})(E,h);if(R){const A=R(...I);return x=null==A?void 0:A.remove,A}throw new G(`"${g}.${h}()" is not implemented on ${y}`,w.Unimplemented)});return"addListener"===h&&(P.remove=(0,u.A)(function*(){return x()})),P};return j.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(j,"name",{value:h,writable:!1,configurable:!1}),j},oe=H("addListener"),re=H("removeListener"),_n=(h,x)=>{const j=oe({eventName:h},x),I=function(){var E=(0,u.A)(function*(){const R=yield j;re({eventName:h,callbackId:R},x)});return function(){return E.apply(this,arguments)}}(),P=new Promise(E=>j.then(()=>E({remove:I})));return P.remove=(0,u.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield I()}),P},z=new Proxy({},{get(h,x){switch(x){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?_n:oe;case"removeListener":return re;default:return H(x)}}});return d[g]=z,U.set(g,{name:g,proxy:z,platforms:new Set([...Object.keys(f),...C?[y]:[]])}),z});return l.convertFileSrc||(l.convertFileSrc=g=>g),l.getPlatform=p,l.handleError=g=>n.console.error(g),l.isNativePlatform=m,l.isPluginAvailable=tn,l.pluginMethodNoop=(g,f,B)=>Promise.reject(`${B} does not have an implementation of "${f}".`),l.registerPlugin=an,l.Exception=G,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},N=(n=>n.Capacitor=ce(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),L=N.registerPlugin;class O{constructor(r){this.listeners={},this.retainedEventArguments={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,t){var o=this;let i=!1;this.listeners[r]||(this.listeners[r]=[],i=!0),this.listeners[r].push(t);const a=this.windowListeners[r];a&&!a.registered&&this.addWindowListener(a),i&&this.sendRetainedArgumentsForEvent(r);const l=function(){var c=(0,u.A)(function*(){return o.removeListener(r,t)});return function(){return c.apply(this,arguments)}}();return Promise.resolve({remove:l})}removeAllListeners(){var r=this;return(0,u.A)(function*(){r.listeners={};for(const t in r.windowListeners)r.removeWindowListener(r.windowListeners[t]);r.windowListeners={}})()}notifyListeners(r,t,o){const i=this.listeners[r];if(i)i.forEach(s=>s(t));else if(o){let s=this.retainedEventArguments[r];s||(s=[]),s.push(t),this.retainedEventArguments[r]=s}}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,t){this.windowListeners[t]={registered:!1,windowEventName:r,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(r="not implemented"){return new N.Exception(r,w.Unimplemented)}unavailable(r="not available"){return new N.Exception(r,w.Unavailable)}removeListener(r,t){var o=this;return(0,u.A)(function*(){const i=o.listeners[r];if(!i)return;const s=i.indexOf(t);o.listeners[r].splice(s,1),o.listeners[r].length||o.removeWindowListener(o.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const t=this.retainedEventArguments[r];t&&(delete this.retainedEventArguments[r],t.forEach(o=>{this.notifyListeners(r,o)}))}}const Z=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _e extends O{getCookies(){return(0,u.A)(function*(){const r=document.cookie,t={};return r.split(";").forEach(o=>{if(o.length<=0)return;let[i,s]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=K(i).trim(),s=K(s).trim(),t[i]=s}),t})()}setCookie(r){return(0,u.A)(function*(){try{const t=Z(r.key),o=Z(r.value),i=`; expires=${(r.expires||"").replace("expires=","")}`,s=(r.path||"/").replace("path=",""),a=null!=r.url&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${t}=${o||""}${i}; path=${s}; ${a};`}catch(t){return Promise.reject(t)}})()}deleteCookie(r){return(0,u.A)(function*(){try{document.cookie=`${r.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,u.A)(function*(){try{const r=document.cookie.split(";")||[];for(const t of r)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(r){return Promise.reject(r)}})()}clearAllCookies(){var r=this;return(0,u.A)(function*(){try{yield r.clearCookies()}catch(t){return Promise.reject(t)}})()}}L("CapacitorCookies",{web:()=>new _e});const de=function(){var n=(0,u.A)(function*(r){return new Promise((t,o)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>o(s),i.readAsDataURL(r)})});return function(t){return n.apply(this,arguments)}}();class ge extends O{request(r){return(0,u.A)(function*(){const t=((n,r={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},r),i=((n={})=>{const r=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=n[r[a]],i),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(n.data||{}))s.set(a,l);t.body=s.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){const s=new FormData;if(n.data instanceof FormData)n.data.forEach((l,d)=>{s.append(d,l)});else for(const l of Object.keys(n.data))s.append(l,n.data[l]);t.body=s;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(i.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(r,r.webFetchExtra),o=((n,r=!0)=>n?Object.entries(n).reduce((o,i)=>{const[s,a]=i;let l,d;return Array.isArray(a)?(d="",a.forEach(c=>{l=r?encodeURIComponent(c):c,d+=`${s}=${l}&`}),d.slice(0,-1)):(l=r?encodeURIComponent(a):a,d=`${s}=${l}`),`${o}&${d}`},"").substr(1):null)(r.params,r.shouldEncodeUrlParams),i=o?`${r.url}?${o}`:r.url,s=yield fetch(i,t),a=s.headers.get("content-type")||"";let d,c,{responseType:l="text"}=s.ok?r:{};switch(a.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":c=yield s.blob(),d=yield de(c);break;case"json":d=yield s.json();break;default:d=yield s.text()}const b={};return s.headers.forEach((p,S)=>{b[S]=p}),{data:d,headers:b,status:s.status,url:s.url}})()}get(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"GET"}))})()}post(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"POST"}))})()}put(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"PUT"}))})()}patch(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"PATCH"}))})()}delete(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"DELETE"}))})()}}L("CapacitorHttp",{web:()=>new ge});var D=function(n){return n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS",n}(D||{}),$=function(n){return n.Rear="REAR",n.Front="FRONT",n}($||{}),Q=function(n){return n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl",n}(Q||{});class ee extends O{getPhoto(r){var t=this;return(0,u.A)(function*(){return new Promise(function(){var o=(0,u.A)(function*(i,s){if(r.webUseInput||r.source===D.Photos)t.fileInputExperience(r,i,s);else if(r.source===D.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=r.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:r.promptLabelPhoto||"From Photos"},{title:r.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",function(){var l=(0,u.A)(function*(d){0===d.detail?t.fileInputExperience(r,i,s):t.cameraExperience(r,i,s)});return function(d){return l.apply(this,arguments)}}())}else t.cameraExperience(r,i,s)});return function(i,s){return o.apply(this,arguments)}}())})()}pickImages(r){var t=this;return(0,u.A)(function*(){return new Promise(function(){var o=(0,u.A)(function*(i,s){t.multipleFileInputExperience(i,s)});return function(i,s){return o.apply(this,arguments)}}())})()}cameraExperience(r,t,o){var i=this;return(0,u.A)(function*(){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=r.direction===$.Front?"user":"environment",document.body.appendChild(s);try{yield s.componentOnReady(),s.addEventListener("onPhoto",function(){var a=(0,u.A)(function*(l){const d=l.detail;null===d?o(new G("User cancelled photos app")):d instanceof Error?o(d):t(yield i._getCameraPhoto(d,r)),s.dismiss(),document.body.removeChild(s)});return function(l){return a.apply(this,arguments)}}()),s.present()}catch{i.fileInputExperience(r,t,o)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),i.fileInputExperience(r,t,o)})()}fileInputExperience(r,t,o){let i=document.querySelector("#_capacitor-camera-input");const s=()=>{var a;null===(a=i.parentNode)||void 0===a||a.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",a=>{const l=i.files[0];let d="jpeg";if("image/png"===l.type?d="png":"image/gif"===l.type&&(d="gif"),"dataUrl"===r.resultType||"base64"===r.resultType){const c=new FileReader;c.addEventListener("load",()=>{if("dataUrl"===r.resultType)t({dataUrl:c.result,format:d});else if("base64"===r.resultType){const b=c.result.split(",")[1];t({base64String:b,format:d})}s()}),c.readAsDataURL(l)}else t({webPath:URL.createObjectURL(l),format:d}),s()}),i.addEventListener("cancel",a=>{o(new G("User cancelled photos app")),s()})),i.accept="image/*",i.capture=!0,r.source===D.Photos||r.source===D.Prompt?i.removeAttribute("capture"):r.direction===$.Front?i.capture="user":r.direction===$.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(r,t){let o=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var s;null===(s=o.parentNode)||void 0===s||s.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input-multiple",o.type="file",o.hidden=!0,o.multiple=!0,document.body.appendChild(o),o.addEventListener("change",s=>{const a=[];for(let l=0;l<o.files.length;l++){const d=o.files[l];let c="jpeg";"image/png"===d.type?c="png":"image/gif"===d.type&&(c="gif"),a.push({webPath:URL.createObjectURL(d),format:c})}r({photos:a}),i()}),o.addEventListener("cancel",s=>{t(new G("User cancelled photos app")),i()})),o.accept="image/*",o.click()}_getCameraPhoto(r,t){return new Promise((o,i)=>{const s=new FileReader,a=r.type.split("/")[1];"uri"===t.resultType?o({webPath:URL.createObjectURL(r),format:a,saved:!1}):(s.readAsDataURL(r),s.onloadend=()=>{const l=s.result;o("dataUrl"===t.resultType?{dataUrl:l,format:a,saved:!1}:{base64String:l.split(",")[1],format:a,saved:!1})},s.onerror=l=>{i(l)})})}checkPermissions(){var r=this;return(0,u.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw r.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw r.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var r=this;return(0,u.A)(function*(){throw r.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var r=this;return(0,u.A)(function*(){throw r.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var r=this;return(0,u.A)(function*(){throw r.unavailable("Not implemented on web.")})()}}new ee;const fe=L("Camera",{web:()=>new ee});var e=k(4438),Y=k(1626);const V=(new Y.Lr).set("rcy-key","Jxa4lyCUktiBkhC0IiL4"),he=(new Y.Lr).set("rcy-key","Jxa4lyCUktiBkhC0IiL4");let te=(()=>{var n;class r{constructor(o){this.http=o,this.endpoint="https://api.ikosten.com/api/"}create(o,i={}){return this.http.post(this.endpoint+o,i)}read(o,i={}){let s=this.endpoint+o;return i._=Date.now(),this.http.get(s,{headers:V,params:i})}update(o,i={}){return this.http.put(this.endpoint+o,i,{headers:V})}delete(o,i={}){return this.http.delete(this.endpoint+o,{headers:V,params:i})}sendForm(o,i){return this.http.post(this.endpoint+o,i,{headers:he})}}return(n=r).\u0275fac=function(o){return new(o||n)(e.KVO(Y.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var be=k(345);let xe=(()=>{var n;class r{constructor(){this.fileDropped=new e.bkB}onDragOver(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!0}onDragLeave(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!1}ondrop(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!1;let i=o.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275dir=e.FsC({type:n,selectors:[["","appDropFilesInput",""]],hostVars:2,hostBindings:function(o,i){1&o&&e.bIt("dragover",function(a){return i.onDragOver(a)})("dragleave",function(a){return i.onDragLeave(a)})("drop",function(a){return i.ondrop(a)}),2&o&&e.AVh("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),r})();function ke(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Ee(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function ve(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Me(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function je(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Fe(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function Ie(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Pe(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function ye(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Re(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function Te(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-grid",0)(1,"ion-row")(2,"ion-col")(3,"ion-textarea",8),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.comment,i)||(s.comment=i),e.Njj(i)}),e.k0s()()()()}if(2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(3),e.R50("ngModel",t.comment),e.Y8G("counter",!0)}}function Ge(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-button",1),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishRating())}),e.EFF(4," Finalizar "),e.k0s()()()()}2&n&&e.Y8G("@fadeIn",void 0)}const De=(0,M.kY)(":enter",[(0,M.iF)({opacity:0}),(0,M.i0)("0.1s 0.1s ease-in",(0,M.iF)({opacity:1}))]),Se=(0,M.hZ)("fadeIn",[De]);let Be=(()=>{var n;class r{constructor(o){this.api=o,this.rating=0,this.comment="",this.userEmail="",this.sent=new e.bkB}ngOnInit(){}setRating(o){this.rating=o}finishRating(){let o=JSON.parse(sessionStorage.getItem("exportSettings")),i=sessionStorage.getItem("processId");o.userEmail&&(this.userEmail=o.userEmail),this.api.create("ratings",{ratings_lead_email:this.userEmail,ratings_process:i,ratings_score:this.rating,ratings_comment:this.comment}).subscribe(s=>{this.api.update("processes/"+i,{process_date_finished:Date.now()}).subscribe(a=>{this.sent.emit()})})}}return(n=r).\u0275fac=function(o){return new(o||n)(e.rXU(te))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-star-rating"]],outputs:{sent:"sent"},decls:19,vars:12,consts:[[1,"ion-margin-top"],[3,"click"],["name","star-outline",4,"ngIf"],["name","star",4,"ngIf"],["class","ion-margin-top",4,"ngIf"],[4,"ngIf"],["name","star-outline"],["name","star"],["label","Cuentanos en que podemos mejorar","rows","8","maxlength","100","mode","md","labelPlacement","floating","fill","outline","placeholder","Excribe tu comentario aqu\xed",3,"ngModelChange","ngModel","counter"]],template:function(o,i){1&o&&(e.j41(0,"ion-grid",0)(1,"ion-row")(2,"ion-col",1),e.bIt("click",function(){return i.setRating(1)}),e.DNE(3,ke,1,1,"ion-icon",2)(4,Ee,1,1,"ion-icon",3),e.k0s(),e.j41(5,"ion-col",1),e.bIt("click",function(){return i.setRating(2)}),e.DNE(6,ve,1,1,"ion-icon",2)(7,Me,1,1,"ion-icon",3),e.k0s(),e.j41(8,"ion-col",1),e.bIt("click",function(){return i.setRating(3)}),e.DNE(9,je,1,1,"ion-icon",2)(10,Fe,1,1,"ion-icon",3),e.k0s(),e.j41(11,"ion-col",1),e.bIt("click",function(){return i.setRating(4)}),e.DNE(12,Ie,1,1,"ion-icon",2)(13,Pe,1,1,"ion-icon",3),e.k0s(),e.j41(14,"ion-col",1),e.bIt("click",function(){return i.setRating(5)}),e.DNE(15,ye,1,1,"ion-icon",2)(16,Re,1,1,"ion-icon",3),e.k0s()()(),e.DNE(17,Te,4,3,"ion-grid",4)(18,Ge,5,1,"ion-grid",5)),2&o&&(e.R7$(3),e.Y8G("ngIf",i.rating<1),e.R7$(),e.Y8G("ngIf",i.rating>=1),e.R7$(2),e.Y8G("ngIf",i.rating<2),e.R7$(),e.Y8G("ngIf",i.rating>=2),e.R7$(2),e.Y8G("ngIf",i.rating<3),e.R7$(),e.Y8G("ngIf",i.rating>=3),e.R7$(2),e.Y8G("ngIf",i.rating<4),e.R7$(),e.Y8G("ngIf",i.rating>=4),e.R7$(2),e.Y8G("ngIf",i.rating<5),e.R7$(),e.Y8G("ngIf",i.rating>=5),e.R7$(),e.Y8G("ngIf",i.rating>0),e.R7$(),e.Y8G("ngIf",i.rating>0))},dependencies:[v.bT,T.BC,T.tU,T.vS,_.Jm,_.hU,_.lO,_.iq,_.ln,_.nc,_.Gw],styles:["ion-icon[_ngcontent-%COMP%]{display:block;margin:auto;font-size:35px;color:#81cc2b;cursor:pointer}"],data:{animation:[Se]}}),r})();var Ce=k(9524);const we=()=>[0,1],ie=()=>["country","code","country_code","currency_name"];function Ne(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item",7),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.selectOption(i))}),e.nrm(1,"ion-checkbox",8),e.EFF(2),e.k0s()}if(2&n){const t=r.$implicit,o=e.XpG(3);e.R7$(),e.Y8G("checked",o.selectedOption&&o.selectedOption.country==t.country),e.R7$(),e.Lme(" ",t.country," (",t.code,") ")}}function $e(n,r){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,Ne,3,3,"ion-item",6),e.nI1(2,"filterBy"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.brH(2,1,t.options,e.lJ4(5,ie),t.searchText))}}function Ye(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item",7),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.selectOption(i))}),e.nrm(1,"ion-checkbox",8),e.EFF(2),e.k0s()}if(2&n){const t=r.$implicit,o=e.XpG(3);e.R7$(),e.Y8G("checked",o.selectedOption&&o.selectedOption==t.code),e.R7$(),e.Lme(" ",t.code," (",t.country,") ")}}function Ae(n,r){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,Ye,3,3,"ion-item",6),e.nI1(2,"filterBy"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.brH(2,1,t.options,e.lJ4(5,ie),t.searchText))}}function Le(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-footer",9)(1,"ion-button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmOptionSelected())}),e.EFF(2," Confirmar "),e.nrm(3,"ion-icon",11),e.k0s()()}}function Oe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.isModalOpen=!1)}),e.EFF(4,"Atr\xe1s"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.k0s()(),e.j41(7,"ion-toolbar")(8,"ion-searchbar",3),e.bIt("ionInput",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.search(i))}),e.k0s()()(),e.j41(9,"ion-content"),e.DNE(10,$e,3,6,"ion-list",4)(11,Ae,3,6,"ion-list",4),e.k0s(),e.DNE(12,Le,4,0,"ion-footer",5)}if(2&n){const t=e.XpG();e.R7$(6),e.JRh(t.modalTitle),e.R7$(2),e.Y8G("debounce",500),e.R7$(2),e.Y8G("ngIf","country"==t.type),e.R7$(),e.Y8G("ngIf","currency"==t.type),e.R7$(),e.Y8G("ngIf",t.selectedOption)}}let Ve=(()=>{var n;class r{constructor(){this.optionSelected=new e.bkB,this.dismiss=new e.bkB,this.searchText=""}ngOnInit(){}selectOption(o){"country"==this.type&&(this.selectedOption={country:o.country,code:o.code}),"currency"==this.type&&(this.selectedOption=o.code)}search(o){const i=o.target.value.toLowerCase();this.searchText=i}confirmOptionSelected(){this.optionSelected.emit(this.selectedOption),this.isModalOpen=!1}onWillDismiss(){this.searchText="",this.dismiss.emit(!1)}}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-country-picker"]],inputs:{isModalOpen:"isModalOpen",modalTitle:"modalTitle",options:"options",type:"type",selectedOption:"selectedOption"},outputs:{optionSelected:"optionSelected",dismiss:"dismiss"},decls:2,vars:4,consts:[[3,"willDismiss","isOpen","initialBreakpoint","breakpoints"],["slot","start"],["color","danger",3,"click"],[3,"ionInput","debounce"],[4,"ngIf"],["color","light","class","d-flex flex-end",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["slot","start",3,"checked"],["color","light",1,"d-flex","flex-end"],["color","primary",1,"button-controll",3,"click"],["name","arrow-forward-outline","slot","end"]],template:function(o,i){1&o&&(e.j41(0,"ion-modal",0),e.bIt("willDismiss",function(){return i.onWillDismiss()}),e.DNE(1,Oe,13,5,"ng-template"),e.k0s()),2&o&&e.Y8G("isOpen",i.isModalOpen)("initialBreakpoint",1)("breakpoints",e.lJ4(3,we))},dependencies:[v.Sq,v.bT,_.Jm,_.QW,_.eY,_.W9,_.M0,_.eU,_.iq,_.uz,_.nf,_.S1,_.BC,_.ai,_.Sb,_.hB,_.Gw,Ce.Yi]}),r})();function Xe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-buttons",17)(1,"ion-button",18),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showAlertRestart=!0)}),e.nrm(2,"ion-icon",19),e.EFF(3,"Reiniciar"),e.k0s()()}}function Ue(n,r){1&n&&(e.j41(0,"div")(1,"div",20)(2,"h1",21),e.EFF(3,"\xa1Bienvenido!"),e.k0s(),e.j41(4,"h3",21),e.EFF(5,"Cruza tus extractos con tus gastos y ahorrate horas con ikosten "),e.k0s()(),e.nrm(6,"ion-img",22),e.k0s()),2&n&&e.Y8G("@fadeIn",void 0)}function He(n,r){if(1&n&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Lme("",t.currencyBlockSelected.country," (",t.currencyBlockSelected.code,")")}}function ze(n,r){1&n&&(e.j41(0,"ion-label"),e.EFF(1,"Seleccione un pa\xeds"),e.k0s())}function Je(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Seleccione el pa\xeds donde se originan los gastos"),e.k0s(),e.j41(4,"ion-card-subtitle"),e.EFF(5,"Paso #1"),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-item",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showModalPicker("Seleccione un pa\xeds","country"))}),e.DNE(8,He,2,2,"ion-label",8)(9,ze,2,0,"ion-label",8),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(8),e.Y8G("ngIf",t.currencyBlockSelected),e.R7$(),e.Y8G("ngIf",!t.currencyBlockSelected)}}function We(n,r){1&n&&e.nrm(0,"ion-progress-bar",36)}function qe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",28)(2,"h3",21),e.EFF(3,"Tomar Foto"),e.k0s(),e.j41(4,"div",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.takePhoto())}),e.j41(5,"div",30),e.nrm(6,"ion-icon",31),e.k0s()(),e.j41(7,"ion-note"),e.EFF(8,"Las fotos deben ser claras y no pueden quedar cortadas "),e.k0s()(),e.j41(9,"ion-col",28)(10,"h3",21),e.EFF(11,"Subir Archivos"),e.k0s(),e.j41(12,"div",32),e.bIt("fileDropped",function(i){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onFileDropped(i,"bills"))}),e.j41(13,"input",33,0),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(3);return e.Njj(s.fileBrowseHandler(i,"bills"))}),e.k0s(),e.j41(15,"div",30),e.nrm(16,"ion-icon",34),e.k0s()(),e.DNE(17,We,1,0,"ion-progress-bar",35),e.j41(18,"ion-note"),e.EFF(19,"Solo puedes subir archivos en PDF "),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.isUploading)}}function Ze(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",42)(1,"ion-button",43),e.bIt("click",function(){const i=e.eBV(t).index,s=e.XpG(4);return e.Njj(s.deleteImageToUpload(i))}),e.nrm(2,"ion-icon",44),e.k0s(),e.nrm(3,"ion-img",45),e.k0s()}if(2&n){const t=r.$implicit;e.R7$(3),e.Y8G("src",t.dataUrl)}}function Ke(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-row",37),e.DNE(1,Ze,4,1,"ion-col",38),e.j41(2,"ion-col",39)(3,"ion-button",40),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.takePhoto())}),e.nrm(4,"ion-icon",41),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.imagesToUpload)}}function Qe(n,r){if(1&n&&(e.j41(0,"ion-card",25)(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Toma fotos o sube tus gastos / facturas en PDF"),e.k0s(),e.j41(4,"ion-card-subtitle"),e.EFF(5,"Paso #2"),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-card",26)(8,"ion-card-header")(9,"ion-card-subtitle"),e.EFF(10,"Para mejorar el resultado, sube s\xf3lo un recibo por imagen o archivo pdf"),e.k0s()()(),e.j41(11,"ion-grid"),e.DNE(12,qe,20,3,"ion-row",8)(13,Ke,5,1,"ion-row",27),e.k0s()()()),2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(12),e.Y8G("ngIf",!t.imagesToUpload||0==t.imagesToUpload.length),e.R7$(),e.Y8G("ngIf",t.imagesToUpload&&t.imagesToUpload.length>0)}}function et(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.original_name)}}function tt(n,r){1&n&&(e.j41(0,"h3",61),e.EFF(1,"Error, no se pudo leer el vendedor"),e.k0s())}function it(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.vendor)}}function nt(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("",e.i5U(2,2,t.date,"dd/MM/yyyy")," ",t.hour,"")}}function ot(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit,o=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.total)," ",o.currency,"")}}function rt(n,r){1&n&&(e.j41(0,"p",61),e.EFF(1,"Error, vuelva a intentarlo"),e.k0s())}function st(n,r){1&n&&e.nrm(0,"ion-progress-bar",62)}function at(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function lt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label"),e.DNE(2,et,2,1,"h3",8)(3,tt,2,0,"h3",57)(4,it,2,1,"h3",8)(5,nt,3,5,"p",8)(6,ot,3,4,"p",8)(7,rt,2,0,"p",57)(8,st,1,0,"ion-progress-bar",58)(9,at,2,0,"ion-note",8),e.k0s(),e.j41(10,"ion-button",59),e.bIt("click",function(){const i=e.eBV(t),s=i.$implicit,a=i.index,l=e.XpG().index,d=e.XpG(4);return e.Njj(d.deleteBill(l,a,s.document_id))}),e.nrm(11,"ion-icon",60),e.k0s()()}if(2&n){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf",500==t.status),e.R7$(),e.Y8G("ngIf",1==t.status&&!t.vendor||1==t.status&&""==t.vendor),e.R7$(),e.Y8G("ngIf",1==t.status&&t.vendor&&""!=t.vendor),e.R7$(),e.Y8G("ngIf",1==t.status),e.R7$(),e.Y8G("ngIf",1==t.status),e.R7$(),e.Y8G("ngIf",500==t.status),e.R7$(),e.Y8G("ngIf",0==t.status),e.R7$(),e.Y8G("ngIf",0==t.status)}}function ct(n,r){if(1&n&&(e.j41(0,"ion-accordion",53)(1,"ion-item",54)(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"div",55)(5,"ion-list"),e.DNE(6,lt,12,8,"ion-item",56),e.k0s()()()),2&n){const t=r.$implicit;e.Y8G("value",r.index),e.R7$(3),e.SpI("Pa\xeds: ",t.country,""),e.R7$(3),e.Y8G("ngForOf",t.bill)}}function _t(n,r){if(1&n&&(e.j41(0,"div")(1,"ion-accordion-group",51),e.DNE(2,ct,7,3,"ion-accordion",52),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("value",t.billAccOpened),e.R7$(),e.Y8G("ngForOf",t.extracts.bills)}}function dt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",48)(1,"ion-button",63),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.deleteAllReceiptsAlert())}),e.EFF(2," Eliminar Todo "),e.nrm(3,"ion-icon",64),e.k0s()()}}function ut(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Recibos Cargados"),e.k0s()(),e.j41(4,"ion-card-content"),e.DNE(5,_t,3,2,"div",8),e.j41(6,"div",20)(7,"ion-grid")(8,"ion-row",46),e.DNE(9,dt,4,0,"ion-col",47),e.j41(10,"ion-col",48)(11,"ion-button",49),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.openUploading())}),e.EFF(12," Subir Recibo / Factura "),e.nrm(13,"ion-icon",50),e.k0s()()()()()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(5),e.Y8G("ngIf",t.extracts&&t.extracts.bills&&t.extracts.bills.length>0),e.R7$(4),e.Y8G("ngIf",t.extracts&&t.extracts.bills&&t.extracts.bills.length>0),e.R7$(2),e.Y8G("disabled",t.checkBillsErrors())}}function pt(n,r){if(1&n&&(e.j41(0,"div"),e.DNE(1,Je,10,3,"ion-card",8)(2,Qe,14,3,"ion-card",23)(3,ut,14,4,"ion-card",8),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isUploadingOther),e.R7$(),e.Y8G("ngIf",t.isUploadingOther&&t.currencyBlockSelected&&""!=t.currencyBlockSelected),e.R7$(),e.Y8G("ngIf",!t.isUploadingOther)}}function mt(n,r){if(1&n&&(e.j41(0,"ion-label"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI("Moneda: ",t.extracts.extract.currency,"")}}function gt(n,r){1&n&&(e.j41(0,"ion-label"),e.EFF(1,"Seleccione una moneda"),e.k0s())}function ft(n,r){1&n&&e.nrm(0,"ion-progress-bar",36)}function ht(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-card",70)(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3,"Sube tu extracto bancario o de tarjeta de cr\xe9dito en PDF"),e.k0s(),e.j41(4,"ion-card-subtitle"),e.EFF(5,"Paso #4"),e.k0s()(),e.j41(6,"ion-card-content")(7,"div",20)(8,"div",32),e.bIt("fileDropped",function(i){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onFileDropped(i,"extracts"))}),e.j41(9,"input",71,0),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(2);return e.Njj(s.fileBrowseHandler(i,"extracts"))}),e.k0s(),e.j41(11,"div",30),e.nrm(12,"ion-icon",34),e.k0s()(),e.DNE(13,ft,1,0,"ion-progress-bar",35),e.j41(14,"ion-note"),e.EFF(15,"Solo puedes subir archivos en PDF "),e.k0s()()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(8),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.isUploading)}}function bt(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t.extracts.extract.original_name)}}function xt(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t.extracts.extract.bankName)}}function kt(n,r){1&n&&(e.j41(0,"h3",73),e.EFF(1,"Error al leer el nombre del banco"),e.k0s())}function Et(n,r){1&n&&(e.j41(0,"h3",73),e.EFF(1,"Error al leer el archivo, verifiquelo y vuelva a intentarlo"),e.k0s())}function vt(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"date"),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Lme(" ",e.i5U(2,2,t.extracts.extract.startDate,"dd/MM/yyyy")," hasta ",e.i5U(3,5,t.extracts.extract.endDate,"dd/MM/yyyy"),"")}}function Mt(n,r){1&n&&e.nrm(0,"ion-progress-bar",62)}function jt(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function Ft(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-list",20)(1,"ion-list-header"),e.EFF(2," Extractos cargados "),e.k0s(),e.j41(3,"ion-item")(4,"ion-label"),e.DNE(5,bt,2,1,"h3",8)(6,xt,2,1,"h3",8)(7,kt,2,0,"h3",72)(8,Et,2,0,"h3",72)(9,vt,4,8,"p",8)(10,Mt,1,0,"ion-progress-bar",58)(11,jt,2,0,"ion-note",8),e.k0s(),e.j41(12,"ion-button",59),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.deleteExtract(0,i.extracts.extract.document_id))}),e.nrm(13,"ion-icon",60),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(5),e.Y8G("ngIf",0==t.extracts.extract.status||1==t.extracts.extract.status&&!t.extracts.extract.bankName||1==t.extracts.extract.status&&""==t.extracts.extract.bankName),e.R7$(),e.Y8G("ngIf",1==t.extracts.extract.status&&""!=t.extracts.extract.bankName&&"undefined"!=t.extracts.extract.bankName),e.R7$(),e.Y8G("ngIf",1==t.extracts.extract.status&&"undefined"==t.extracts.extract.bankName),e.R7$(),e.Y8G("ngIf",500==t.extracts.extract.status),e.R7$(),e.Y8G("ngIf",t.extracts.extract.startDate&&""!=t.extracts.extract.startDate&&t.extracts.extract.endDate&&""!=t.extracts.extract.endDate),e.R7$(),e.Y8G("ngIf",0==t.extracts.extract.status),e.R7$(),e.Y8G("ngIf",0==t.extracts.extract.status)}}function It(n,r){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Selecciona"),e.k0s(),e.j41(5,"ion-card-subtitle"),e.EFF(6,"Paso #3"),e.k0s()(),e.j41(7,"ion-card-content")(8,"ion-item")(9,"ion-select",65),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changeExtractType())}),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.extracts.extract.type,i)||(s.extracts.extract.type=i),e.Njj(i)}),e.j41(10,"ion-select-option",66),e.EFF(11,"Tarjeta de Cr\xe9dito"),e.k0s(),e.j41(12,"ion-select-option",67),e.EFF(13,"Tarjeta D\xe9bito"),e.k0s()()(),e.j41(14,"ion-item",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showModalPicker("Seleccione una moneda","currency"))}),e.DNE(15,mt,2,1,"ion-label",8)(16,gt,2,0,"ion-label",8),e.k0s()()(),e.DNE(17,ht,16,4,"ion-card",68)(18,Ft,14,8,"ion-list",69),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(9),e.R50("ngModel",t.extracts.extract.type),e.R7$(6),e.Y8G("ngIf",""!=t.extracts.extract.currency),e.R7$(),e.Y8G("ngIf",""==t.extracts.extract.currency),e.R7$(),e.Y8G("ngIf",!t.extracts.extract.file&&""!=t.extracts.extract.file&&""!=t.extracts.extract.type&&""!=t.extracts.extract.currency),e.R7$(),e.Y8G("ngIf",t.extracts.extract.file&&""!=t.extracts.extract.file)}}function Pt(n,r){1&n&&(e.j41(0,"div",20)(1,"h3",21),e.EFF(2," Analizando Resultados "),e.k0s(),e.j41(3,"p",21),e.EFF(4,"Por favor espera..."),e.k0s(),e.j41(5,"ion-list")(6,"ion-item",74),e.nrm(7,"ion-progress-bar",75),e.k0s()()())}function yt(n,r){1&n&&(e.j41(0,"h2",73),e.EFF(1,"Vendedor no coincide"),e.k0s())}function Rt(n,r){1&n&&(e.j41(0,"span",73),e.EFF(1," no coincide "),e.k0s())}function Tt(n,r){1&n&&(e.j41(0,"span",73),e.EFF(1," No coincide "),e.k0s())}function Gt(n,r){1&n&&(e.j41(0,"p"),e.EFF(1,"Cambio de moneda"),e.k0s())}function Dt(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.exchangeValue)," ",t.currency,"")}}function St(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label",86),e.DNE(2,yt,2,0,"h2",72),e.j41(3,"h2",87),e.EFF(4),e.k0s(),e.j41(5,"ion-grid",88)(6,"ion-row")(7,"ion-col",89)(8,"p"),e.EFF(9),e.nI1(10,"date"),e.j41(11,"span",90),e.EFF(12),e.k0s(),e.DNE(13,Rt,2,0,"span",72),e.k0s(),e.j41(14,"p"),e.EFF(15,"Valor en Recibo "),e.DNE(16,Tt,2,0,"span",72),e.k0s(),e.j41(17,"ion-note"),e.EFF(18),e.nI1(19,"number"),e.k0s(),e.DNE(20,Gt,2,0,"p",8)(21,Dt,3,4,"ion-note",8),e.k0s(),e.j41(22,"ion-col",42),e.nrm(23,"ion-icon",91),e.j41(24,"p",92),e.EFF(25,"Extracto no coincide"),e.k0s()()()(),e.j41(26,"ion-button",59),e.bIt("click",function(){const i=e.eBV(t),s=i.$implicit,a=i.index,l=e.XpG().index,d=e.XpG(4);return e.Njj(d.deleteNotMatched(l,a,s))}),e.EFF(27," Eliminar "),e.k0s(),e.j41(28,"ion-button",93),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(5);return e.Njj(s.editLine(i))}),e.EFF(29," Editar "),e.k0s()()()}if(2&n){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf",t.reason&&"vendor"==t.reason),e.R7$(2),e.SpI(" ",t.vendor,""),e.R7$(5),e.SpI("Fecha: ",e.i5U(10,11,t.date,"dd/MM/yyyy")," "),e.R7$(2),e.Y8G("ngClass",t.date&&""!=t.date?"":"color-danger"),e.R7$(),e.SpI(" ",t.date&&""!=t.date?"":"Error de lectura",""),e.R7$(),e.Y8G("ngIf",t.reason&&"date"==t.reason),e.R7$(3),e.Y8G("ngIf",t.reason&&"value"==t.reason),e.R7$(2),e.Lme("$",e.bMT(19,14,t.bill)," ",t.currencyBill,""),e.R7$(2),e.Y8G("ngIf",t.exchange),e.R7$(),e.Y8G("ngIf",t.exchange)}}function Bt(n,r){if(1&n&&(e.j41(0,"ion-list")(1,"ion-item-divider",85)(2,"ion-label"),e.EFF(3),e.k0s()(),e.DNE(4,St,30,16,"ion-item",56),e.k0s()),2&n){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.country," "),e.R7$(),e.Y8G("ngForOf",t.bill)}}function Ct(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-accordion-group",82)(1,"ion-accordion",78)(2,"ion-item",83)(3,"ion-label"),e.EFF(4),e.k0s()(),e.j41(5,"div",55)(6,"ion-button",84),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.deleteAllNotMatched())}),e.EFF(7," Eliminar todos los que no coinciden "),e.nrm(8,"ion-icon",64),e.k0s(),e.DNE(9,Bt,5,2,"ion-list",56),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(4),e.Lme("Revisar ",t.countNotMatched()," ",1==t.countNotMatched()?"gasto no coincide":"gastos no coinciden"," con el estado financiero:"),e.R7$(5),e.Y8G("ngForOf",t.results.notMatched)}}function wt(n,r){1&n&&(e.j41(0,"p"),e.EFF(1,"Cambio de moneda"),e.k0s())}function Nt(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.exchangeValue)," ",t.currency,"")}}function $t(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label",86)(2,"h2",87),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-grid",88)(6,"ion-row")(7,"ion-col",89)(8,"p"),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"p"),e.EFF(12,"Recibo"),e.k0s(),e.j41(13,"ion-note"),e.EFF(14),e.nI1(15,"number"),e.k0s(),e.DNE(16,wt,2,0,"p",8)(17,Nt,3,4,"ion-note",8),e.k0s(),e.j41(18,"ion-col",42),e.nrm(19,"ion-icon",95),e.j41(20,"p",92),e.EFF(21,"Coincide"),e.k0s()()()(),e.j41(22,"ion-button",59),e.bIt("click",function(){const i=e.eBV(t),s=i.$implicit,a=i.index,l=e.XpG().index,d=e.XpG(4);return e.Njj(d.deleteNotMatched(l,a,s))}),e.EFF(23," Eliminar "),e.k0s()()()}if(2&n){const t=r.$implicit;e.R7$(3),e.Lme("",e.i5U(4,7,t.date,"dd/MM/yyyy")," ",t.vendor,""),e.R7$(6),e.SpI("Fecha: ",e.i5U(10,10,t.date,"dd/MM/yyyy")," "),e.R7$(5),e.Lme("$",e.bMT(15,13,t.bill)," ",t.currencyBill,""),e.R7$(2),e.Y8G("ngIf",t.exchange),e.R7$(),e.Y8G("ngIf",t.exchange)}}function Yt(n,r){if(1&n&&(e.j41(0,"ion-list")(1,"ion-item-divider",85)(2,"ion-label"),e.EFF(3),e.k0s()(),e.DNE(4,$t,24,15,"ion-item",56),e.k0s()),2&n){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.country," "),e.R7$(),e.Y8G("ngForOf",t.bill)}}function At(n,r){if(1&n&&(e.j41(0,"div",94),e.DNE(1,Yt,5,2,"ion-list",56),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.results.matchedBills)}}function Lt(n,r){if(1&n&&(e.j41(0,"ion-item")(1,"ion-label",86)(2,"h4"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"number"),e.k0s()()()),2&n){const t=r.$implicit,o=e.XpG(4);e.R7$(3),e.Lme("",e.i5U(4,5,t.date,"dd/MM/yyyy")," ",t.description,""),e.R7$(3),e.E5c("","credit"==o.results.notmatchedExtractLines.type?"Tj Credito":"Tj Debito"," $",e.bMT(7,8,t.amount)," ",o.results.notmatchedExtractLines.currency,"")}}function Ot(n,r){if(1&n&&(e.j41(0,"ion-accordion-group",96)(1,"ion-accordion",78)(2,"ion-item",97)(3,"ion-label"),e.EFF(4),e.k0s()(),e.j41(5,"div",55)(6,"ion-list"),e.DNE(7,Lt,8,10,"ion-item",56),e.k0s()()()()),2&n){const t=e.XpG(3);e.R7$(4),e.Lme("",t.results.notmatchedExtractLines.lines.length," ",1==t.results.notmatchedExtractLines.lines.length?"Linea del estado financiero no coincide":"Lineas del estado financiero no coinciden"," con ning\xfan recibo:"),e.R7$(3),e.Y8G("ngForOf",t.results.notmatchedExtractLines.lines)}}function Vt(n,r){if(1&n&&(e.j41(0,"div",20)(1,"h3",21),e.EFF(2," Resultados "),e.k0s(),e.DNE(3,Ct,10,3,"ion-accordion-group",76),e.j41(4,"ion-accordion-group",77)(5,"ion-accordion",78)(6,"ion-item",79)(7,"ion-label"),e.EFF(8),e.k0s()(),e.DNE(9,At,2,1,"div",80),e.k0s()(),e.DNE(10,Ot,8,3,"ion-accordion-group",81),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.results&&t.results.notMatched&&t.results.notMatched.length>0),e.R7$(5),e.Lme("Revisar ",t.countMatched()," ",1==t.countMatched()?"gasto coincide":"gastos coinciden"," con el estado financiero:"),e.R7$(),e.Y8G("ngIf",t.results&&t.results.matchedBills&&t.results.matchedBills.length>0),e.R7$(),e.Y8G("ngIf",t.results.notmatchedExtractLines&&t.results.notmatchedExtractLines.lines&&t.results.notmatchedExtractLines.lines.length>0)}}function Xt(n,r){if(1&n&&(e.j41(0,"div"),e.DNE(1,Pt,8,0,"div",69)(2,Vt,11,5,"div",69),e.k0s()),2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("ngIf",!t.results),e.R7$(),e.Y8G("ngIf",t.results)}}function Ut(n,r){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",20)(2,"h3",21),e.EFF(3," Enviar\xe9mos el reporte a tu correo "),e.k0s()(),e.j41(4,"div",20)(5,"ion-item")(6,"ion-input",98),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.userName,i)||(s.userName=i),e.Njj(i)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-input",99),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.userEmail,i)||(s.userEmail=i),e.Njj(i)}),e.k0s()()(),e.j41(9,"div",20)(10,"ion-list")(11,"ion-list-header"),e.EFF(12," Elige el formato "),e.k0s(),e.j41(13,"ion-item")(14,"ion-checkbox",100),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.sendPdf,i)||(s.sendPdf=i),e.Njj(i)}),e.EFF(15,"Enviar PDF"),e.k0s()(),e.j41(16,"ion-item")(17,"ion-checkbox",100),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.sendExcel,i)||(s.sendExcel=i),e.Njj(i)}),e.EFF(18,"Enviar Excel"),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(6),e.R50("ngModel",t.userName),e.R7$(2),e.R50("ngModel",t.userEmail),e.R7$(6),e.R50("ngModel",t.sendPdf),e.R7$(3),e.R50("ngModel",t.sendExcel)}}function Ht(n,r){1&n&&(e.j41(0,"div")(1,"div",20)(2,"h3",21),e.EFF(3," El reporte se esta enviando, solo tomar\xe1 un minuto... "),e.k0s(),e.nrm(4,"ion-progress-bar",75),e.k0s()())}function zt(n,r){if(1&n&&(e.j41(0,"div"),e.DNE(1,Ut,19,4,"div",8)(2,Ht,5,0,"div",8),e.k0s()),2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("ngIf",!t.sendingForm),e.R7$(),e.Y8G("ngIf",t.sendingForm)}}function Jt(n,r){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",20)(2,"h2",21),e.EFF(3," El reporte se ha enviado a tu correo "),e.k0s(),e.j41(4,"h3",101),e.EFF(5," \xbfQu\xe9 tal te pareci\xf3 la experiencia Ikosten? "),e.k0s(),e.j41(6,"app-star-rating",102),e.bIt("sent",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishProcess())}),e.k0s()()()}2&n&&e.Y8G("@fadeIn",void 0)}function Wt(n,r){1&n&&(e.j41(0,"div")(1,"div",20)(2,"h2",103),e.EFF(3," \xa1ESPERA! "),e.k0s(),e.j41(4,"h2",104)(5,"span",105),e.EFF(6,"12 USD"),e.k0s(),e.EFF(7," -> "),e.j41(8,"span",73),e.EFF(9,"9.99 USD"),e.k0s()(),e.j41(10,"h3",101),e.EFF(11," Haz ganado un DESCUENTO en tu membres\xeda "),e.j41(12,"span",87),e.EFF(13,"Pro"),e.k0s(),e.EFF(14,"! "),e.k0s(),e.j41(15,"h2",103),e.EFF(16,"Este descuento solo es v\xe1lido por \xfanica vez "),e.k0s()()()),2&n&&e.Y8G("@fadeIn",void 0)}function qt(n,r){1&n&&(e.j41(0,"div")(1,"div",20)(2,"h2",103),e.EFF(3," Cuidado "),e.k0s(),e.j41(4,"h2",21),e.EFF(5,"Tus datos ser\xe1n eliminados permanentemente, "),e.nrm(6,"br"),e.j41(7,"span",87),e.EFF(8,"Deseas continuar?"),e.k0s()()()()),2&n&&e.Y8G("@fadeIn",void 0)}function Zt(n,r){1&n&&(e.j41(0,"div")(1,"div",20)(2,"h2",103),e.EFF(3," Tus datos se han eliminado "),e.k0s(),e.j41(4,"h2",21),e.EFF(5,"Gracias por utilizar Kosten, nos vemos pronto! "),e.k0s()()()),2&n&&e.Y8G("@fadeIn",void 0)}function Kt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",106),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onWillDismiss())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Elige tu plan"),e.k0s()()(),e.j41(7,"ion-content",20)(8,"ion-grid")(9,"ion-row")(10,"ion-col",48)(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e.EFF(14,"4.99 USD/mes"),e.k0s(),e.j41(15,"ion-card-subtitle"),e.EFF(16,"Basic "),e.k0s()(),e.j41(17,"ion-card-content")(18,"ion-list")(19,"ion-item",74),e.EFF(20," 4 procesos "),e.k0s(),e.j41(21,"ion-item",74),e.EFF(22," forma de pago de pago en efectivo, debito y credito "),e.k0s(),e.j41(23,"ion-item",74),e.EFF(24," Exportar a Excel y PDF "),e.k0s(),e.j41(25,"ion-item",74),e.EFF(26," Guarda el historial "),e.k0s()()(),e.j41(27,"div",20)(28,"ion-button",107),e.EFF(29,"Elegir"),e.k0s()()()(),e.j41(30,"ion-col",48)(31,"ion-card")(32,"ion-card-header")(33,"ion-card-title"),e.EFF(34,"12 USD/mes"),e.k0s(),e.j41(35,"ion-card-subtitle"),e.EFF(36,"Pro "),e.k0s()(),e.j41(37,"ion-card-content")(38,"ion-list")(39,"ion-item",74),e.EFF(40," Todo lo de Basic + "),e.k0s(),e.j41(41,"ion-item",74),e.EFF(42," procesos ilimitados "),e.k0s(),e.j41(43,"ion-item",74),e.EFF(44," Exportar en m\xe1s de una moneda "),e.k0s()()(),e.j41(45,"div",20)(46,"ion-button",107),e.EFF(47,"Elegir"),e.k0s()()()()()()()}}function Qt(n,r){1&n&&(e.j41(0,"ion-list-header"),e.EFF(1," Toma fotos a tus recibos o cargalos en PDF para cruzarlos con tu extracto "),e.k0s())}function ei(n,r){1&n&&(e.j41(0,"ion-list-header"),e.EFF(1," Confirma que la informaci\xf3n no salga cortada o borrosa "),e.k0s())}function ti(n,r){if(1&n&&(e.j41(0,"div",20)(1,"ion-list"),e.DNE(2,Qt,2,0,"ion-list-header",8)(3,ei,2,0,"ion-list-header",8),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function ii(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.JRh(t.extracts[t.currentExtract].bills[t.currentBill].name)}}function ni(n,r){1&n&&e.nrm(0,"ion-progress-bar",75)}function oi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",28)(1,"h3",21),e.EFF(2,"Subir Archivo"),e.k0s(),e.j41(3,"div",32),e.bIt("fileDropped",function(i){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onFileDropped(i,"bills"))}),e.j41(4,"input",71,0),e.bIt("change",function(i){e.eBV(t);const s=e.XpG(3);return e.Njj(s.fileBrowseHandler(i,"bills"))}),e.k0s(),e.j41(6,"div",30),e.nrm(7,"ion-icon",34),e.k0s(),e.DNE(8,ii,2,1,"ion-note",8)(9,ni,1,0,"ion-progress-bar",115),e.k0s(),e.j41(10,"ion-note"),e.EFF(11,"Solo puedes subir archivos en PDF "),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills.length>0&&t.extracts[t.currentExtract].bills[t.currentBill]),e.R7$(),e.Y8G("ngIf",t.isUploading)}}function ri(n,r){if(1&n&&e.nrm(0,"ion-img",117),2&n){const t=e.XpG(4);e.Y8G("src",t.imageToUpload)}}function si(n,r){if(1&n&&(e.j41(0,"ion-col",28),e.DNE(1,ri,1,1,"ion-img",116),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function ai(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",118)(1,"ion-button",119),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.imageToUpload=void 0)}),e.EFF(2," Eliminar "),e.nrm(3,"ion-icon",64),e.k0s(),e.j41(4,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.uploadBillPhoto())}),e.EFF(5," Confirmar "),e.nrm(6,"ion-icon",121),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(4),e.Y8G("disabled",t.isUploading)}}function li(n,r){if(1&n&&(e.j41(0,"div",20)(1,"ion-grid")(2,"ion-row"),e.DNE(3,oi,12,4,"ion-col",113)(4,si,2,1,"ion-col",113)(5,ai,7,1,"ion-col",114),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function ci(n,r){1&n&&e.nrm(0,"ion-progress-bar",62)}function _i(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function di(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-list",20)(1,"ion-list-header"),e.EFF(2," Factura cargada "),e.k0s(),e.j41(3,"ion-item")(4,"ion-label"),e.EFF(5),e.DNE(6,ci,1,0,"ion-progress-bar",58)(7,_i,2,0,"ion-note",8),e.k0s(),e.j41(8,"ion-button",59),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.deleteBill(i.i))}),e.nrm(9,"ion-icon",60),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(5),e.SpI("",t.extracts[t.currentExtract].bills[t.currentBill].vendor," "),e.R7$(),e.Y8G("ngIf",0==t.extracts[t.currentExtract].bills[t.currentBill].status),e.R7$(),e.Y8G("ngIf",0==t.extracts[t.currentExtract].bills[t.currentBill].status)}}function ui(n,r){1&n&&(e.j41(0,"div",122)(1,"ion-list")(2,"ion-list-header"),e.EFF(3," Confirma la Informaci\xf3n de tu recibo "),e.k0s()()())}function pi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-datetime",132),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(3);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].date,i)||(s.extracts[s.currentExtract].bills[s.currentBill].date=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("showDefaultButtons",!0),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].date)}}function mi(n,r){if(1&n&&(e.j41(0,"ion-select-option",53),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme("(",t.code,") ",t.country,"")}}function gi(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"ion-item")(2,"ion-input",123),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].vendor,i)||(s.extracts[s.currentExtract].bills[s.currentBill].vendor=i),e.Njj(i)}),e.k0s()(),e.j41(3,"ion-item")(4,"ion-label",124),e.EFF(5,"Fecha"),e.k0s(),e.nrm(6,"ion-datetime-button",125),e.k0s(),e.j41(7,"ion-modal",126),e.DNE(8,pi,1,2,"ng-template"),e.k0s(),e.j41(9,"ion-item")(10,"ion-input",127),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].net,i)||(s.extracts[s.currentExtract].bills[s.currentBill].net=i),e.Njj(i)}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-input",128),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].tax,i)||(s.extracts[s.currentExtract].bills[s.currentBill].tax=i),e.Njj(i)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-input",129),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].tip,i)||(s.extracts[s.currentExtract].bills[s.currentBill].tip=i),e.Njj(i)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-input",130),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].total,i)||(s.extracts[s.currentExtract].bills[s.currentBill].total=i),e.Njj(i)}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-select",131),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.extracts[s.currentExtract].bills[s.currentBill].currency,i)||(s.extracts[s.currentExtract].bills[s.currentBill].currency=i),e.Njj(i)}),e.DNE(19,mi,2,3,"ion-select-option",52),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].vendor),e.R7$(5),e.Y8G("keepContentsMounted",!0),e.R7$(3),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].net),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].tax),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].tip),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].total),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].currency),e.R7$(),e.Y8G("ngForOf",t.currencies)}}function fi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.isSettingBill=!1)}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",134),e.k0s()}}function hi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextConfirmData())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status)}}function bi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.finishSettingBill())}),e.EFF(1," Confirmar "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status||""==t.extracts[t.currentExtract].bills[t.currentBill].currency)}}function xi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",106),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onWillDismissAddBill())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Subir Recibo"),e.k0s()()(),e.j41(7,"ion-content"),e.DNE(8,ti,4,2,"div",69)(9,li,6,3,"div",69)(10,di,10,4,"ion-list",69)(11,ui,4,0,"div",108)(12,gi,20,8,"div",109),e.k0s(),e.j41(13,"ion-footer",110),e.DNE(14,fi,3,0,"ion-button",111)(15,hi,3,1,"ion-button",112)(16,bi,3,1,"ion-button",112),e.k0s()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",0==t.isSettingBill),e.R7$(),e.Y8G("ngIf",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&0==t.isSettingBill),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&1==t.isSettingBill),e.R7$(2),e.Y8G("ngIf",1==t.currentStep&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",0==t.isSettingBill&&!t.imageToUpload),e.R7$(),e.Y8G("ngIf",1==t.isSettingBill)}}function ki(n,r){if(1&n&&e.nrm(0,"ion-img",146),2&n){const t=e.XpG(2);e.Y8G("src",t.sanitizeImage(t.editLineReceipt.blob))}}function Ei(n,r){1&n&&(e.j41(0,"span",73),e.EFF(1,"No coincide"),e.k0s())}function vi(n,r){1&n&&(e.j41(0,"p",147),e.nrm(1,"ion-icon",148),e.EFF(2,"Fecha no coincide"),e.k0s())}function Mi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-datetime",149),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.editLineDate,i)||(s.editLineDate=i),e.Njj(i)}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.editLineDate)}}function ji(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-datetime",150),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG(2);return e.DH7(s.editLineTime,i)||(s.editLineTime=i),e.Njj(i)}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.editLineTime)}}function Fi(n,r){1&n&&(e.j41(0,"p",147),e.nrm(1,"ion-icon",148),e.EFF(2,"Vendedor no coincide"),e.k0s())}function Ii(n,r){1&n&&(e.j41(0,"p",147),e.nrm(1,"ion-icon",148),e.EFF(2,"Valor no coincide"),e.k0s())}function Pi(n,r){if(1&n&&(e.j41(0,"ion-select-option",53),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme("",t.country," (",t.code,")")}}function yi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",59),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.isEdditingLine=!1)}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Editar Linea"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-list",136)(9,"ion-list-header"),e.EFF(10," Editar Recibo "),e.k0s(),e.DNE(11,ki,1,1,"ion-img",137),e.j41(12,"ion-item",106),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return i.toggleDate=!i.toggleDate,e.Njj(i.toggleTime=!1)}),e.j41(13,"ion-label"),e.EFF(14,"Fecha: "),e.DNE(15,Ei,2,0,"span",72),e.k0s(),e.j41(16,"ion-chip",138),e.EFF(17),e.nI1(18,"date"),e.nrm(19,"ion-ripple-effect"),e.k0s()(),e.DNE(20,vi,3,0,"p",139)(21,Mi,2,1,"ion-item",8),e.j41(22,"ion-item",106),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return i.toggleTime=!i.toggleTime,e.Njj(i.toggleDate=!1)}),e.j41(23,"ion-label"),e.EFF(24,"Hora:"),e.k0s(),e.j41(25,"ion-chip",138),e.EFF(26),e.nI1(27,"date"),e.nrm(28,"ion-ripple-effect"),e.k0s()(),e.DNE(29,ji,2,1,"ion-item",8),e.j41(30,"ion-item")(31,"ion-input",140),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.editLineDescription,i)||(s.editLineDescription=i),e.Njj(i)}),e.k0s()(),e.DNE(32,Fi,3,0,"p",139),e.j41(33,"ion-item")(34,"ion-input",141),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.editLineBill,i)||(s.editLineBill=i),e.Njj(i)}),e.k0s()(),e.DNE(35,Ii,3,0,"p",139),e.j41(36,"ion-item")(37,"ion-select",142),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.editLineCurrency,i)||(s.editLineCurrency=i),e.Njj(i)}),e.DNE(38,Pi,2,3,"ion-select-option",52),e.k0s()()(),e.nrm(39,"div",143),e.k0s(),e.j41(40,"ion-footer",144)(41,"ion-button",119),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.isEdditingLine=!1)}),e.nrm(42,"ion-icon",145),e.EFF(43," Cerrar "),e.k0s(),e.j41(44,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishEditLine())}),e.EFF(45," Confirmar "),e.nrm(46,"ion-icon",135),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("inset",!0),e.R7$(3),e.Y8G("ngIf",t.editLineReceipt&&t.isImage(t.editLineReceipt.type)),e.R7$(4),e.Y8G("ngIf","date"==t.editLineReason),e.R7$(2),e.SpI(" ",e.i5U(18,15,t.editLineDate,"dd/MM/yyyy")," "),e.R7$(3),e.Y8G("ngIf","date"==t.editLineReason),e.R7$(),e.Y8G("ngIf",t.toggleDate),e.R7$(5),e.SpI(" ",e.i5U(27,18,t.editLineTime,"hh:mm aa")," "),e.R7$(3),e.Y8G("ngIf",t.toggleTime),e.R7$(2),e.R50("ngModel",t.editLineDescription),e.R7$(),e.Y8G("ngIf","vendor"==t.editLineReason),e.R7$(2),e.R50("ngModel",t.editLineBill),e.R7$(),e.Y8G("ngIf","value"==t.editLineReason),e.R7$(2),e.R50("ngModel",t.editLineCurrency),e.R7$(),e.Y8G("ngForOf",t.currencies),e.R7$(6),e.Y8G("disabled",""==t.editLineDescription||!t.editLineBill||t.editLineBill<=0)}}function Ri(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-alert",11),e.bIt("didDismiss",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.dismissDeleteBill())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("isOpen",t.isAlertDeleteBill)("subHeader","De eliminar este recibo")("buttons",t.deleteBillAlertButtons)}}function Ti(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.createProcess())}),e.EFF(1," Iniciar "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",t.loadingButtons)}}function Gi(n,r){if(1&n&&(e.j41(0,"div",151),e.DNE(1,Ti,3,1,"ion-button",112),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0==t.currentStep)}}function Di(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",134),e.k0s()}}function Si(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",134),e.k0s()}}function Bi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.isAlertGoBack=!0)}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",134),e.k0s()}}function Ci(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts.extract.status||0==t.extracts.extract.status||500==t.extracts.extract.status)}}function wi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts||t.extracts&&!t.extracts.bills||t.extracts&&t.extracts.bills&&t.extracts.bills.length<=0||t.checkBillsErrors())}}function Ni(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.results)}}function $i(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",120),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmData())}),e.EFF(1," Confirmar "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status||""==t.extracts[t.currentExtract].bills[t.currentBill].currency)}}function Yi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",156),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.sendResult())}),e.EFF(1," Enviar "),e.nrm(2,"ion-icon",135),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.userName||""==t.userName||!t.userEmail||""==t.userEmail||!t.sendPdf&&!t.sendExcel||t.sendingForm)}}function Ai(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",157),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showMemberships())}),e.EFF(1," Si, guardar "),e.nrm(2,"ion-icon",158),e.k0s()}}function Li(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",159),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," No lo quiero "),e.nrm(2,"ion-icon",160),e.k0s()}}function Oi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",157),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showCheckout())}),e.EFF(1," Aceptar "),e.nrm(2,"ion-icon",161),e.k0s()}}function Vi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Cancelar "),e.k0s()}}function Xi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",159),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Eliminar "),e.nrm(2,"ion-icon",160),e.k0s()}}function Ui(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",157),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.flushData())}),e.EFF(1," Reiniciar "),e.nrm(2,"ion-icon",162),e.k0s()}}function Hi(n,r){if(1&n&&(e.j41(0,"div",152),e.DNE(1,Di,3,0,"ion-button",111)(2,Si,3,0,"ion-button",111)(3,Bi,3,0,"ion-button",111)(4,Ci,3,1,"ion-button",112)(5,wi,3,1,"ion-button",112)(6,Ni,3,1,"ion-button",112)(7,$i,3,1,"ion-button",112)(8,Yi,3,1,"ion-button",153)(9,Ai,3,0,"ion-button",154)(10,Li,3,0,"ion-button",155)(11,Oi,3,0,"ion-button",154)(12,Vi,2,0,"ion-button",111)(13,Xi,3,0,"ion-button",155)(14,Ui,3,0,"ion-button",154),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",1==t.currentStep),e.R7$(),e.Y8G("ngIf",2==t.currentStep||4==t.currentStep),e.R7$(),e.Y8G("ngIf",3==t.currentStep),e.R7$(),e.Y8G("ngIf",2==t.currentStep),e.R7$(),e.Y8G("ngIf",1==t.currentStep),e.R7$(),e.Y8G("ngIf",3==t.currentStep),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",4==t.currentStep),e.R7$(),e.Y8G("ngIf",6==t.currentStep),e.R7$(),e.Y8G("ngIf",8==t.currentStep),e.R7$(),e.Y8G("ngIf",8==t.currentStep),e.R7$(),e.Y8G("ngIf",9==t.currentStep),e.R7$(),e.Y8G("ngIf",9==t.currentStep),e.R7$(),e.Y8G("ngIf",10==t.currentStep)}}const zi=(0,M.kY)(":enter",[(0,M.iF)({opacity:0}),(0,M.i0)("0.2s 0.1s ease-in",(0,M.iF)({opacity:1}))]),Ji=(0,M.hZ)("fadeIn",[zi]),Wi=[{path:"",component:(()=>{var n;class r{constructor(o,i,s,a){this.api=o,this.http=i,this._sanitizer=s,this.changeDetector=a,this.alertButtons=["Ok"],this.deleteExtractAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteExtract()}}],this.alertRestartButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Confirmar",role:"confirm",handler:()=>{this.confirmRestartProcess()}}],this.deleteLineAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteLine()}}],this.deleteAllNotMatchedAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteAllNotMatchedLines()}}],this.deleteBillAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteBill()}}],this.deleteAllAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteBillAll()}}],this.goBackAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Confirmar",role:"confirm",handler:()=>{this.confirmGoBack()}}],this.currentStep=0,this.loadingButtons=!1,this.notUploaded=[],this.userEmail="",this.userName="",this.openModalMemberships=!1,this.isUploading=!1,this.uploadMessage="Subir archivo",this.currentExtract=0,this.currentBill=0,this.isAlertDeleteExtract=!1,this.idToDelete=0,this.openModalAddBill=!1,this.isAlertDeleteBill=!1,this.isAlertDeleteAll=!1,this.idToDeleteBill=0,this.idToDeleteBillContainer=0,this.isSettingBill=!1,this.sendingForm=!1,this.isEdditingLine=!1,this.isDeletingLine=!1,this.isDeletingAllNotMatched=!1,this.showAlertRestart=!1,this.showAlertFounds=!1,this.showAlertFoundsMatched=!1,this.foundsQty=0,this.imagesToUpload=[],this.showAlertTime=!1,this.isUploadingOther=!0,this.showResults=!1,this.isAlertGoBack=!1,this.toggleDate=!1,this.toggleTime=!1,this.imageMimes=["image/png","image/jpeg"],this.pdfMimes=["application/pdf"],this.showPicker=!1,this.pickerTitle="",this.pickerType="",this.pickerOptions=[],this.billAccOpened=0}ngOnInit(){this.getCurrencies(),this.hidrate(),console.log("extracts",this.extracts)}hidrate(){if(sessionStorage.getItem("extracts")&&""!=sessionStorage.getItem("extracts")&&(this.extracts=JSON.parse(sessionStorage.getItem("extracts"))),sessionStorage.getItem("result")&&""!=sessionStorage.getItem("result")&&(this.results=JSON.parse(sessionStorage.getItem("result"))),sessionStorage.getItem("currentStep")&&""!=sessionStorage.getItem("currentStep")&&(this.currentStep=Number(sessionStorage.getItem("currentStep")),3==this.currentStep&&this.getAnalisysResult()),sessionStorage.getItem("exportSettings")&&""!=sessionStorage.getItem("exportSettings")){let i=JSON.parse(sessionStorage.getItem("exportSettings"));i.userName&&(this.userName=i.userName),i.userEmail&&(this.userEmail=i.userEmail),i.sendPdf&&(this.sendPdf=i.sendPdf),i.sendExcel&&(this.sendExcel=i.sendExcel),i.currencyExchange&&(this.currencyExchange=i.currencyExchange)}sessionStorage.setItem("exportSettings",JSON.stringify({userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel,currencyExchange:this.currencyExchange})),this.isUploadingOther=!(this.countBills()>0)}scrollToTarget(o){setTimeout(()=>{document.getElementById(o)&&document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},500)}showModalPicker(o,i){this.pickerTitle=o,this.showPicker=!0,this.pickerType=i,this.pickerOptions=this.currencies}pickerDismissed(){this.showPicker=!1}pickerOptionSelected(o){"country"==this.pickerType&&(this.currencyBlockSelected=o,this.scrollToTarget("card-step-2")),"currency"==this.pickerType&&(this.extracts.extract.currency=o,this.scrollToTarget("card-step-4"))}cancelUploading(){this.isUploadingOther=!1,this.imagesToUpload=[],this.currencyBlockSelected=void 0}deleteImageToUpload(o){this.imagesToUpload.splice(o,1)}addZero(o){return("0"+o).slice(-2)}getCurrencies(){this.api.read("countries").subscribe(o=>{200==o.status&&(this.currencies=o.body)})}createProcess(){this.loadingButtons=!0,sessionStorage.getItem("processId")&&null!=sessionStorage.getItem("processId")&&""!=sessionStorage.getItem("processId")?(this.currentStep++,this.loadingButtons=!1):(new FormData,this.api.create("processes",{}).subscribe(i=>{201==i.status&&(sessionStorage.setItem("processId",i.body._id),this.extracts={bills:[],extract:{type:"",currency:""}},sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.currentStep++),this.loadingButtons=!1})),this.isUploadingOther=!(this.countBills()>0),sessionStorage.setItem("currentStep",this.currentStep.toString())}countBills(){return this.extracts&&this.extracts.bills?this.extracts.bills.length:0}nextStep(){3==this.currentStep?this.countNotMatched()>0?this.showAlertFounds=!0:this.countMatched()<=0?this.showAlertFoundsMatched=!0:this.currentStep++:this.currentStep++,3==this.currentStep&&this.getAnalisysResult(),sessionStorage.setItem("currentStep",this.currentStep.toString())}finishProcess(){}countNotMatched(){let o=0;return this.results&&this.results.notMatched.forEach(i=>{o+=i.bill.length}),o}countMatched(){let o=0;return this.results&&this.results.matchedBills&&this.results.matchedBills.forEach(i=>{o+=i.bill.length}),o}getAnalisysResult(){(!sessionStorage.getItem("result")||""==sessionStorage.getItem("result"))&&(console.log("extracts before analisys",this.extracts),this.api.create("processes/getResult",this.extracts).subscribe(o=>{console.log("result",o),o.error||(this.results={matchedBills:o.body.matchedExtracts,notMatched:o.body.notMatched,notmatchedExtractLines:o.body.notMatchedExtractLines,startDate:o.body.startDate,endDate:o.body.endDate},sessionStorage.setItem("result",JSON.stringify(this.results)))}))}confirmGoBack(){this.backStep()}backStep(){this.isSettingBill=!1,3==this.currentStep&&(this.results=void 0,sessionStorage.removeItem("result")),1==this.currentStep&&(this.isUploadingOther=!1),this.currentStep--,sessionStorage.setItem("currentStep",this.currentStep.toString())}addExtract(){this.extracts.push({fileName:"Bancolombia_16-04-2024.pdf",uploadedDate:"16/04/2023",id:1})}changeDateBill(){}exportResult(){this.currentStep++,sessionStorage.setItem("currentStep",this.currentStep.toString())}dismissAlertFounds(){this.showAlertFounds=!1}dismissAlertFoundsNotMatched(){this.showAlertFoundsMatched=!1}dismissAlertRestart(){this.showAlertRestart=!1}takePhoto(){fe.getPhoto({quality:90,allowEditing:!0,resultType:Q.DataUrl,source:D.Camera}).then(o=>{this.imagesToUpload.push(o)},o=>{})}deleteBillFromResult(o){}sendResult(){this.sendingForm=!0;let o={lead_name:this.userName,lead_email:this.userEmail.toLowerCase(),process_id:sessionStorage.getItem("processId")},i={userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel};console.log(this.results),this.api.create("leads",o).subscribe(s=>{this.api.create("processes/sendResult",{results:this.results,exportSettings:i,userName:this.userName,userEmail:this.userEmail}).subscribe(l=>{202==l.body&&this.currentStep++,this.sendingForm=!1})})}showMemberships(){this.openModalMemberships=!0}showCheckout(){}jumpToStep(o){this.currentStep=o,sessionStorage.setItem("currentStep",this.currentStep.toString())}flushData(){this.jumpToStep(0)}onWillDismiss(){this.openModalMemberships=!1}onWillDismissEditLine(){this.isEdditingLine=!1,this.selectedLine=void 0}dismissDeleteAllNotMatched(){this.isDeletingAllNotMatched=!1}changeExportSettings(){sessionStorage.setItem("exportSettings",JSON.stringify({userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel,currencyExchange:this.currencyExchange}))}showModalAddBill(){this.openModalAddBill=!0,this.currentBill=this.extracts[this.currentExtract].bills.length,this.uploadedBill=""}onWillDismissAddBill(){this.openModalAddBill=!1,this.uploadedBill=""}onFileDropped(o,i){this.uploadFile(o,i)}deleteExtract(o,i){this.isAlertDeleteExtract=!0,this.idToDelete=o,this.documentIdToDelete=i}deleteBill(o,i,s){this.isAlertDeleteBill=!0,this.idToDeleteBill=i,this.documentIdToDelete=s,this.idToDeleteBillContainer=o}deleteAllReceiptsAlert(){this.isAlertDeleteAll=!0}dismissDeleteExtract(){this.isAlertDeleteExtract=!1}dismissDeleteLine(){this.isDeletingLine=!1,this.selectedDeleteLine=void 0}openAddBill(){this.openModalAddBill=!0,this.uploadedBill=""}dismissDeleteBill(){this.isAlertDeleteBill=!1,this.idToDeleteBill=0,this.idToDeleteBillContainer=0}dismissDeleteAll(){this.isAlertDeleteAll=!1}finishSettingBill(){this.isSettingBill=!1,this.currentBill=this.extracts[this.currentExtract].bills.length,this.openModalAddBill=!1}confirmDeleteExtract(){delete this.extracts.extract.file,delete this.extracts.extract.status,delete this.extracts.extract.lines,delete this.extracts.extract.bankName,delete this.extracts.extract.blobName,delete this.extracts.extract.document_id,delete this.extracts.extract.endDate,delete this.extracts.extract.file_url,delete this.extracts.extract.mimeType,delete this.extracts.extract.startDate,sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.api.update("documents/"+this.documentIdToDelete,{deleted:!0}).subscribe(o=>{}),this.isAlertDeleteExtract=!1}confirmDeleteBill(){this.extracts.bills[this.idToDeleteBillContainer].bill.splice(this.idToDeleteBill,1),this.extracts.bills[this.idToDeleteBillContainer].bill.length<=0&&this.extracts.bills.splice(this.idToDeleteBillContainer,1),sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.api.update("documents/"+this.documentIdToDelete,{deleted:!0}).subscribe(o=>{}),this.isAlertDeleteBill=!1}confirmDeleteBillAll(){this.extracts.bills.forEach((i,s)=>{i.bill.forEach((a,l)=>{this.api.update("documents/"+a.document_id,{deleted:!0}).subscribe(d=>{console.log(d)})})}),this.extracts.bills=[],sessionStorage.setItem("extracts",JSON.stringify(this.extracts))}startBillWorker(){this.extracts&&this.extracts.bills&&setTimeout(()=>{this.extracts.bills.forEach((o,i)=>{o.bill.forEach((s,a)=>{if(0==s.status){let l=new FormData;l.append("jobId",s.jobId),this.api.sendForm("aws/getBillAnalysis",l).subscribe(d=>{if(d.status){let c=d.result;this.extracts.bills[i].bill[a].status=1,this.extracts.bills[i].bill[a].confirmed=0,this.extracts.bills[i].bill[a].date=c.date,this.extracts.bills[i].bill[a].net=c.net,this.extracts.bills[i].bill[a].tax=c.tax,this.extracts.bills[i].bill[a].tip=c.tip,this.extracts.bills[i].bill[a].total=c.total,this.extracts.bills[i].bill[a].vendor=c.vendor,sessionStorage.setItem("extracts",JSON.stringify(this.extracts))}else this.startBillWorker()})}})})},5e3)}changeExtractType(){sessionStorage.setItem("extracts",JSON.stringify(this.extracts))}nextConfirmData(){this.currentStep=2,this.getAnalisysResult(),sessionStorage.setItem("currentStep",this.currentStep.toString())}confirmData(){this.isSettingBill=!1,this.extracts[this.currentExtract].bills[this.currentBill].confirmed=1,this.currentBill=this.extracts[this.currentExtract].bills.length,sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.nextStep()}startExtractWorker(){this.extracts&&this.extracts.extract&&setTimeout(()=>{if(0==this.extracts.extract.status){let o=new FormData;o.append("jobId",this.extracts.extract.jobId),this.api.sendForm("aws/getExpenseAnalysis",o).subscribe(i=>{i.status?(this.extracts.extract.status=1,this.extracts.extract.lines=i.result.lines,i.result.name&&""!=i.result.name&&(this.extracts.extract.name=i.result.name),sessionStorage.setItem("extracts",JSON.stringify(this.extracts))):this.startExtractWorker()})}},5e3)}uploadLineBill(o,i){this.openModalAddBill=!0,this.uploadLineResultId=i,this.uploadedExtractName=o}changeDateExtractLine(o){console.log(this.extracts.extract.lines[o].date)}editLine(o){let i=new Date(o.date+"T"+o.hour);this.editLineDate=i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())+"T00:00",this.editLineTime=i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())+"T"+i.getHours()+":"+i.getMinutes()+":00",this.editLineReason=o.reason&&""!=o.reason?o.reason:"",this.editLineDescription=o.vendor,this.editLineBill=o.bill,this.editLineCurrency=o.currency,this.editLineDocId=o.document_id,this.toggleDatesExtracts=[],this.extracts.extract.lines.forEach(s=>{this.toggleDatesExtracts.push(!1)}),this.api.create("uploads/readBlob",{file_name:o.blobName,mimeType:o.mimeType,process_id:sessionStorage.getItem("processId"),folder:"receipts"}).subscribe(s=>{this.editLineReceipt=s.body,this.changeDetector.detectChanges()}),this.api.create("uploads/readBlob",{file_name:this.extracts.extract.blobName,mimeType:this.extracts.extract.mimeType,process_id:sessionStorage.getItem("processId"),folder:"extracts"}).subscribe(s=>{this.editLineExtract=s.body,this.changeDetector.detectChanges()}),this.isEdditingLine=!0}sanitizeImage(o){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+o)}isImage(o){return this.imageMimes.indexOf(o)>=0}isPdf(o){return!!o&&this.pdfMimes.indexOf(o)>=0}deleteLine(o,i){this.selectedDeleteLine=[o,i],this.isDeletingLine=!0}deleteAllNotMatched(){this.isDeletingAllNotMatched=!0}deleteNotMatched(o,i,s){this.selectedDeleteLine=[o,i],this.docToDelete=s.document_id,this.isDeletingLine=!0}getNotScheduledStatus(){let o=0;return this.results.notMatched.forEach(i=>{i.bill&&i.bill.length>0&&i.bill.forEach(s=>{o++})}),0!=o}confirmDeleteAllNotMatchedLines(){console.log("confirm Delete all"),this.results.notMatched=[],sessionStorage.setItem("result",JSON.stringify(this.results))}confirmDeleteLine(){this.results.notMatched[this.selectedDeleteLine[0]].bill.splice(this.selectedDeleteLine[1],1),this.results.notMatched[this.selectedDeleteLine[0]].bill.length<=0&&this.results.notMatched.splice(0,1),this.extracts.bills.forEach((o,i)=>{o.bill.forEach((s,a)=>{s.document_id==this.docToDelete&&(this.idToDeleteBillContainer=i,this.idToDeleteBill=a,this.documentIdToDelete=this.docToDelete)})}),this.confirmDeleteBill(),sessionStorage.setItem("result",JSON.stringify(this.results))}checkMatchStatus(){let o=0;return this.results.forEach(i=>{i.lines.forEach(s=>{s.match||o++})}),o>0?{status:!1,found:o}:{status:!0,found:o}}finishEditLine(){this.extracts.bills.forEach((o,i)=>{o.bill.forEach((s,a)=>{if(s.document_id==this.editLineDocId){let l=new Date(this.editLineDate),d=new Date(this.editLineTime);this.extracts.bills[i].bill[a].date=l.getFullYear()+"-"+this.addZero(l.getMonth()+1)+"-"+this.addZero(l.getDate()),this.extracts.bills[i].bill[a].hour=d.getHours()+":"+d.getMinutes()+":00",this.extracts.bills[i].bill[a].vendor=this.editLineDescription,this.extracts.bills[i].bill[a].currency=this.editLineCurrency,this.extracts.bills[i].bill[a].total=this.editLineBill}})}),this.extracts.extract.lines.forEach((o,i)=>{if(o.date&&""!=o.date&&o.date.indexOf("T")>=0){let s=o.date.split("T");this.extracts.extract.lines[i].date=s[0]}}),this.isEdditingLine=!1,this.results=void 0,sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),sessionStorage.removeItem("result"),this.getAnalisysResult()}checkUploadStatus(){if(!this.extracts||this.extracts&&this.extracts.bills.length<=0)return!0;if(this.extracts.bills&&this.extracts.bills.length>0){let o=0;return this.extracts.bills.forEach((i,s)=>{i.bill.forEach(a=>{0==a.status&&o++})}),o>0}return!0}sanitizeFileName(o){return(o=o.replace(/\s+/g,"-").toLowerCase()).replace(/[^a-zA-Z0-9]/g,"")}uploadFile(o,i){if(this.showAlertTime=!0,this.isUploading=!0,o.length>0){var s=[];for(const a of o)if(s.push(a),a.size/1048576<=10&&("extracts"==i&&(this.extracts.extract.file=this.sanitizeFileName(a.name),this.extracts.extract.original_name=a.name,this.extracts.extract.status=0,this.extracts.extract.lines=[],sessionStorage.setItem("extracts",JSON.stringify(this.extracts))),"bills"==i)){if(this.extracts&&this.extracts.bills){let l=0;this.extracts.bills.forEach((d,c)=>{d.currency==this.currencyBlockSelected.code&&(l++,this.extracts.bills[c].bill.push({original_name:a.name,file:this.sanitizeFileName(a.name),status:0}),this.billAccOpened=c)}),l<=0&&this.extracts.bills.push({currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{original_name:a.name,file:this.sanitizeFileName(a.name),status:0}]})}else this.extracts={bills:[{currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{original_name:a.name,file:this.sanitizeFileName(a.name),status:0}]}]};sessionStorage.setItem("extracts",JSON.stringify(this.extracts))}for(let[a,l]of s.entries())if(l.size/1048576<=10)if("extracts"==i){let d=new FormData;d.append("file",l,l.name),d.append("process_id",sessionStorage.getItem("processId")),d.append("model_id","custom-ikosten-extracts-v2"),this.api.sendForm("uploads/uploadExtract",d).subscribe(c=>{console.log("extract",c);let b=500;c.error||c.body.error?alert("Error subiendo el archivo"):b=1,this.extracts.extract.status=b,this.extracts.extract.lines=c.body.document_result.lines,this.extracts.extract.bankName=c.body.document_result.bankName,this.extracts.extract.startDate=c.body.document_result.startDate,this.extracts.extract.endDate=c.body.document_result.endDate,this.extracts.extract.document_id=c.body.document_id,this.extracts.extract.file_url=c.body.fileUrl,this.extracts.extract.blobName=c.body.document_result.blobName,this.extracts.extract.mimeType=c.body.document_result.mimeType,sessionStorage.setItem("extracts",JSON.stringify(this.extracts))})}else if("bills"==i){let d=new FormData;d.append("file",l,l.name),d.append("process_id",sessionStorage.getItem("processId")),d.append("model_id","prebuilt-receipt"),this.api.sendForm("uploads/uploadReceipt",d).subscribe(c=>{console.log(c);let b=500;c.body.error||(b=1);for(let[p,S]of this.extracts.bills.entries())for(let[m,X]of S.bill.entries())S.currency==this.currencyBlockSelected.code&&X.file==c.body.document_result.fileName&&(this.extracts.bills[p].bill[m].status=b,1==b?(this.extracts.bills[p].bill[m].date=c.body.document_result.date,this.extracts.bills[p].bill[m].hour=c.body.document_result.hour,this.extracts.bills[p].bill[m].vendor=c.body.document_result.vendor,this.extracts.bills[p].bill[m].docType=c.body.document_result.docType,this.extracts.bills[p].bill[m].total=c.body.document_result.total,this.extracts.bills[p].bill[m].document_id=c.body.document_id,this.extracts.bills[p].bill[m].file_url=c.body.fileUrl,this.extracts.bills[p].bill[m].mimeType=c.body.document_result.mimeType,this.extracts.bills[p].bill[m].blobName=c.body.document_result.blobName):(this.extracts.bills[p].bill[m].date="",this.extracts.bills[p].bill[m].hour="",this.extracts.bills[p].bill[m].vendor="Error",this.extracts.bills[p].bill[m].docType="",this.extracts.bills[p].bill[m].total=0,this.extracts.bills[p].bill[m].document_id=c.body.document_id,this.extracts.bills[p].bill[m].file_url="",this.extracts.bills[p].bill[m].mimeType="",this.extracts.bills[p].bill[m].blobName=""),sessionStorage.setItem("extracts",JSON.stringify(this.extracts)))})}this.isUploading=!1,this.isUploadingOther=!1,this.imagesToUpload=[]}}openUploading(){this.currencyBlockSelected=void 0,this.isUploadingOther=!0}checkBillsErrors(){let o=0;return this.extracts.bills.forEach((i,s)=>{i.bill.forEach((a,l)=>{(500==a.status||0==a.status)&&o++})}),0!=o}uploadImagesBase64(){let o=[];this.imagesToUpload.forEach(i=>{const s=Date.now()+"."+i.format,a=this.dataURItoBlob(i.dataUrl),l=new File([a],s,{type:"image/"+i.format});o.push(l)}),this.uploadFile(o,"bills")}dataURItoBlob(o){var i;i=o.split(",")[0].indexOf("base64")>=0?atob(o.split(",")[1]):unescape(o.split(",")[1]);for(var s=o.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(i.length),l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return new Blob([a],{type:s})}_uploadFile(o,i){if(this.isUploading=!0,o.length>0){for(const s of o)if(s.size/1048576<=10){if("extract"==i){let a=new FormData;a.append("file",s,s.name),this.api.sendForm("aws/startExpenseAnalysis",a).subscribe(l=>{l.status?(this.extracts.extract={file:s,name:s.name,jobId:l.result.JobId,status:0,type:"",currency:""},sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.showAlertTime=!0,this.startExtractWorker()):alert("Error subiendo el archivo"),this.isUploading=!1})}else if("bill"==i){let a=new FormData;a.append("file",o[0],o[0].name),a.append("lot_id",sessionStorage.getItem("processId")),this.api.sendForm("azure/startExpenseAnalysis",a).subscribe(l=>{if(l.status){if(this.showAlertTime=!0,this.extracts&&this.extracts.bills){let d=0;this.extracts.bills.forEach((c,b)=>{c.currency==this.currencyBlockSelected.code&&(d++,this.extracts.bills[b].bill.push({file:o[0],jobId:l.result.JobId,status:0}))}),d<=0&&this.extracts.bills.push({currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:o[0],jobId:l.result.JobId,status:0}]})}else this.extracts={bills:[{currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:o[0],jobId:l.result.JobId,status:0}]}]};sessionStorage.setItem("extracts",JSON.stringify(this.extracts)),this.startBillWorker()}else alert("Error subiendo el archivo");this.isUploading=!1,this.isUploadingOther=!1})}}else this.notUploaded.push(s);this.notUploaded.length>0&&alert(this.notUploaded.length+" archivos exceden el m\xe1ximo de 10 MB")}}confirmRestartProcess(){sessionStorage.clear(),this.isUploadingOther=!0,this.currentStep=0}fileBrowseHandler(o,i){this.uploadFile(o.target.files,i)}}return(n=r).\u0275fac=function(o){return new(o||n)(e.rXU(te),e.rXU(Y.Qq),e.rXU(be.up),e.rXU(e.gRc))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-main"]],decls:36,vars:53,consts:[["fileDrop",""],[3,"translucent"],["color","primary"],["slot","start"],["src","../../../assets/images/ikosten_identificador_blanco_no_slogan.png",1,"full-logo-img"],["slot","end",4,"ngIf"],[1,"content-background"],[1,"responsive_container"],[4,"ngIf"],[3,"willDismiss","isOpen"],[3,"optionSelected","dismiss","selectedOption","isModalOpen","modalTitle","type","options"],["header","\xbfEstas Seguro?",3,"didDismiss","isOpen","subHeader","buttons"],[3,"didDismiss","isOpen","header","subHeader","buttons"],["header","\xbfEstas Seguro?",3,"isOpen","subHeader","buttons","didDismiss",4,"ngIf"],[1,"responsive_footer"],["class","ion-padding d-flex flex-center",4,"ngIf"],["class","ion-padding d-flex flex-justify-space-between",4,"ngIf"],["slot","end"],["color","light","fill","solid",3,"click"],["slot","start","name","refresh-outline"],[1,"ion-padding"],[1,"text-center"],["src","../../../assets/images/ikosten_elemento_alcancia_azul.png",1,"welcome-image"],["id","card-step-2",4,"ngIf"],["button","",3,"click"],["id","card-step-2"],["color","primary",1,"no-margin"],["class","ion-margin-top",4,"ngIf"],["size","12"],[1,"takePhoto",2,"margin","auto",3,"click"],[1,"image-place-holder"],["name","camera-outline",2,"width","50px","height","50px"],["appDropFilesInput","",1,"dropzone","dropzoneMobile","ion-margin",2,"margin","auto",3,"fileDropped"],["type","file","accept","image/jpeg,image/png,application/pdf","multiple","true","multiple","true","id","fileDrop",3,"change","disabled"],["name","cloud-upload-outline",2,"width","50px","height","50px"],["class","ion-margin-top","type","indeterminate",4,"ngIf"],["type","indeterminate",1,"ion-margin-top"],[1,"ion-margin-top"],["size","4",4,"ngFor","ngForOf"],["size","4",2,"display","flex","justify-content","center","align-items","center"],["shape","round",1,"add-image-button",3,"click"],["slot","icon-only","size","large","name","add-outline"],["size","4"],["shape","round","color","danger",1,"delete-image-button",3,"click"],["slot","icon-only","size","default","name","trash-outline"],[1,"image-to-upload",3,"src"],[1,"ion-justify-content-center"],["size","12","size-sm","6",4,"ngIf"],["size","12","size-sm","6"],["color","secondary","expand","block",3,"click","disabled"],["name","add-outline","slot","end"],[1,"ion-margin-top",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","header","color","light"],["slot","content"],[4,"ngFor","ngForOf"],["style","color:red;",4,"ngIf"],["style","margin-top: 10px;","type","indeterminate",4,"ngIf"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[2,"color","red"],["type","indeterminate",2,"margin-top","10px"],["color","danger","expand","block",3,"click"],["name","trash-outline","slot","end"],["label","Tipo de pago","placeholder","Seleccione uno",3,"ionChange","ngModelChange","ngModel"],["value","credit"],["value","debit"],["id","card-step-4",4,"ngIf"],["class","ion-padding",4,"ngIf"],["id","card-step-4"],["type","file","accept","image/jpeg,image/png,application/pdf","id","fileDrop",3,"change","disabled"],["class","color-danger",4,"ngIf"],[1,"color-danger"],["lines","none"],["type","indeterminate"],["class","ion-margin-bottom","value","notMatched",4,"ngIf"],["value","matched",1,"ion-margin-bottom"],["value","notMatched"],["slot","header","color","primary"],["slot","content","class","ion-padding-top",4,"ngIf"],["class","ion-margin-bottom",4,"ngIf"],["value","notMatched",1,"ion-margin-bottom"],["slot","header","color","danger"],["color","dark","expand","block",1,"button-controll",2,"margin-top","10px","margin-bottom","10px",3,"click"],[1,"bordered-divider"],[1,"no-margin-right"],[1,"bold"],[1,"no-padding"],["size","8",1,"list-col"],[3,"ngClass"],["size","large","name","close-circle","color","danger",1,"d-block","m-auto"],[1,"d-block","m-auto","text-center","bold"],["color","primary",3,"click"],["slot","content",1,"ion-padding-top"],["size","large","name","checkmark-circle-outline","color","primary",1,"d-block","m-auto"],[1,"ion-margin-bottom"],["slot","header","color","medium"],["label","Tu Nombre","labelPlacement","floating","placeholder","Ingresa tu nombre",3,"ionChange","ngModelChange","ngModel"],["label","Correo","labelPlacement","floating","placeholder","Ingresa un correo",3,"ionChange","ngModelChange","ngModel"],[3,"ionChange","ngModelChange","ngModel"],[1,"text-center","ion-padding-top"],[3,"sent"],[1,"text-center","bold"],[1,"bold","text-center"],[1,"line-through"],[3,"click"],["expand","block"],["class","",4,"ngIf"],["class","ion-padding ",4,"ngIf"],[1,"d-flex","flex-end",2,"padding","5px"],["color","light","class","button-controll",3,"click",4,"ngIf"],["color","primary","class","button-controll","style","float:right",3,"disabled","click",4,"ngIf"],["size","12",4,"ngIf"],["class","d-flex flex-justify-space-between","size","12",4,"ngIf"],["type","indeterminate",4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["size","12",1,"d-flex","flex-justify-space-between"],["color","danger",1,"button-controll",2,"float","right",3,"click"],["color","primary",1,"button-controll",2,"float","right",3,"click","disabled"],["name","checkmark-outline","slot","end"],[1,""],["label","Titulo del Recibo","labelPlacement","floating","placeholder","Ingresa titulo",3,"ngModelChange","ngModel"],[2,"margin-left","3px"],["datetime","datetime"],[3,"keepContentsMounted"],["label","Neto","labelPlacement","floating","placeholder","Ingresa neto",3,"ngModelChange","ngModel"],["label","IVA","labelPlacement","floating","placeholder","Ingresa IVA",3,"ngModelChange","ngModel"],["label","Propina","labelPlacement","floating","placeholder","Ingresa propina",3,"ngModelChange","ngModel"],["label","Total","labelPlacement","floating","placeholder","Ingresa total",3,"ngModelChange","ngModel"],["label","Moneda","placeholder","Seleccione una",3,"ngModelChange","ngModel"],["presentation","date","id","datetime",3,"ngModelChange","showDefaultButtons","ngModel"],["color","light",1,"button-controll",3,"click"],["name","arrow-back-outline","slot","start"],["name","arrow-forward-outline","slot","end"],[3,"inset"],["class","viewer-image",3,"src",4,"ngIf"],[1,"chip-date"],["class","color-danger ion-padding-start","style","margin-top: 5px; margin-left: 0px; margin-bottom: 0px;",4,"ngIf"],["label","Vendedor","labelPlacement","floating","placeholder","Ingresa el vendedor",3,"ngModelChange","ngModel"],["label","Valor Recibo","labelPlacement","floating","type","number","min","0","placeholder","Ingresa valor en el recibo",3,"ngModelChange","ngModel"],["label","Moneda Recibo","placeholder","Seleccione una",3,"ngModelChange","ngModel"],[1,"list-spacer"],[1,"d-flex","flex-justify-space-between",2,"padding","5px"],["name","close-outline","slot","start"],[1,"viewer-image",3,"src"],[1,"color-danger","ion-padding-start",2,"margin-top","5px","margin-left","0px","margin-bottom","0px"],["name","alert-circle-outline"],["id","dateLine","presentation","date",2,"width","100%","margin","auto",3,"ngModelChange","ngModel"],["id","hourLine","presentation","time",2,"width","100%","margin","auto",3,"ngModelChange","ngModel"],[1,"ion-padding","d-flex","flex-center"],[1,"ion-padding","d-flex","flex-justify-space-between"],["color","primary","class","button-controll",3,"disabled","click",4,"ngIf"],["color","primary","class","button-controll",3,"click",4,"ngIf"],["color","danger","class","button-controll",3,"click",4,"ngIf"],["color","primary",1,"button-controll",3,"click","disabled"],["color","primary",1,"button-controll",3,"click"],["name","save-outline","slot","start"],["color","danger",1,"button-controll",3,"click"],["name","trash-outline","slot","start"],["name","cart-outline","slot","start"],["name","arrow-undo-outline","slot","start"]],template:function(o,i){1&o&&(e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),e.nrm(3,"ion-img",4),e.k0s(),e.DNE(4,Xe,4,0,"ion-buttons",5),e.k0s()(),e.j41(5,"ion-content",6)(6,"div",7),e.DNE(7,Ue,7,1,"div",8)(8,pt,4,3,"div",8)(9,It,19,6,"div",8)(10,Xt,3,3,"div",8)(11,zt,3,3,"div",8)(12,Jt,7,1,"div",8)(13,Wt,17,1,"div",8)(14,qt,9,1,"div",8)(15,Zt,6,1,"div",8),e.k0s(),e.j41(16,"ion-modal",9),e.bIt("willDismiss",function(){return i.onWillDismiss()}),e.DNE(17,Kt,48,0,"ng-template"),e.k0s(),e.j41(18,"ion-modal",9),e.bIt("willDismiss",function(){return i.onWillDismiss()}),e.DNE(19,xi,17,8,"ng-template"),e.k0s(),e.j41(20,"ion-modal",9),e.bIt("willDismiss",function(){return i.onWillDismissEditLine()}),e.DNE(21,yi,47,21,"ng-template"),e.k0s(),e.j41(22,"app-country-picker",10),e.bIt("optionSelected",function(a){return i.pickerOptionSelected(a)})("dismiss",function(){return i.pickerDismissed()}),e.k0s(),e.j41(23,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteExtract()}),e.k0s(),e.j41(24,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteLine()}),e.k0s(),e.j41(25,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteAllNotMatched()}),e.k0s(),e.j41(26,"ion-alert",12),e.bIt("didDismiss",function(){return i.dismissAlertFounds()}),e.k0s(),e.j41(27,"ion-alert",12),e.bIt("didDismiss",function(){return i.dismissAlertFoundsNotMatched()}),e.k0s(),e.j41(28,"ion-alert",12),e.bIt("didDismiss",function(){return i.dismissAlertRestart()}),e.k0s(),e.j41(29,"ion-alert",12),e.bIt("didDismiss",function(){return i.showAlertTime=!1}),e.k0s(),e.DNE(30,Ri,1,3,"ion-alert",13),e.j41(31,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteAll()}),e.k0s(),e.j41(32,"ion-alert",11),e.bIt("didDismiss",function(){return i.isAlertGoBack=!1}),e.k0s()(),e.j41(33,"ion-footer",14),e.DNE(34,Gi,2,1,"div",15)(35,Hi,15,14,"div",16),e.k0s()),2&o&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("ngIf",i.currentStep>0),e.R7$(3),e.Y8G("ngIf",0==i.currentStep),e.R7$(),e.Y8G("ngIf",1==i.currentStep),e.R7$(),e.Y8G("ngIf",2==i.currentStep),e.R7$(),e.Y8G("ngIf",3==i.currentStep),e.R7$(),e.Y8G("ngIf",4==i.currentStep),e.R7$(),e.Y8G("ngIf",5==i.currentStep),e.R7$(),e.Y8G("ngIf",8==i.currentStep),e.R7$(),e.Y8G("ngIf",9==i.currentStep),e.R7$(),e.Y8G("ngIf",10==i.currentStep),e.R7$(),e.Y8G("isOpen",i.openModalMemberships),e.R7$(2),e.Y8G("isOpen",i.openModalAddBill),e.R7$(2),e.Y8G("isOpen",i.isEdditingLine),e.R7$(2),e.Y8G("selectedOption",i.currencyBlockSelected)("isModalOpen",i.showPicker)("modalTitle",i.pickerTitle)("type",i.pickerType)("options",i.pickerOptions),e.R7$(),e.Y8G("isOpen",i.isAlertDeleteExtract)("subHeader","Eliminar tu extracto")("buttons",i.deleteExtractAlertButtons),e.R7$(),e.Y8G("isOpen",i.isDeletingLine)("subHeader","De eliminar esta linea?")("buttons",i.deleteLineAlertButtons),e.R7$(),e.Y8G("isOpen",i.isDeletingAllNotMatched)("subHeader","De eliminar todas las lineas que no coinciden?")("buttons",i.deleteAllNotMatchedAlertButtons),e.R7$(),e.Y8G("isOpen",i.showAlertFounds)("header","A\xfan hay "+i.countNotMatched()+" "+(1==i.countNotMatched()?"recibo que no coincide":"recibos que no coinciden"))("subHeader","Revisa que cada recibo coincida o eliminalos antes de continuar")("buttons",i.alertButtons),e.R7$(),e.Y8G("isOpen",i.showAlertFoundsMatched)("header","No hay recibos que coincidan con el extracto")("subHeader","Agrega al menos uno que coincida")("buttons",i.alertButtons),e.R7$(),e.Y8G("isOpen",i.showAlertRestart)("header","Estas seguro de reiniciar el proceso?")("subHeader","Perder\xe1s todo tu progreso hasta ahora")("buttons",i.alertRestartButtons),e.R7$(),e.Y8G("isOpen",i.showAlertTime)("header","Analizar un documento puede tomar hasta 30s")("subHeader","Se paciente...")("buttons",i.alertButtons),e.R7$(),e.Y8G("ngIf",i.extracts),e.R7$(),e.Y8G("isOpen",i.isAlertDeleteAll)("subHeader","De eliminar todos los recibos?")("buttons",i.deleteAllAlertButtons),e.R7$(),e.Y8G("isOpen",i.isAlertGoBack)("subHeader","Si regresas tus cambios no se guardar\xe1n")("buttons",i.goBackAlertButtons),e.R7$(2),e.Y8G("ngIf",0==i.currentStep),e.R7$(),e.Y8G("ngIf",i.currentStep>0))},dependencies:[v.YU,v.Sq,v.bT,T.BC,T.vS,xe,_.xk,_.YH,_.Zy,_.Jm,_.QW,_.b_,_.I9,_.ME,_.HW,_.tN,_.eY,_.ZB,_.hU,_.W9,_.A9,_.K4,_.M0,_.lO,_.eU,_.iq,_.KW,_.$w,_.uz,_.Dg,_.he,_.nf,_.AF,_.JI,_.FH,_.S7,_.ln,_.Nm,_.Ip,_.BC,_.ai,_.Sb,_.hB,_.su,_.Je,_.Gw,_.T6,Be,Ve,v.QX,v.vh],styles:[".checked-state[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #7eb474}.viewer-image[_ngcontent-%COMP%]{max-height:300px;max-width:100%;display:block;margin:auto}.image-to-upload[_ngcontent-%COMP%]{--border-radius: 13px}.responsive_container[_ngcontent-%COMP%], .responsive_footer[_ngcontent-%COMP%]{max-width:800px;display:block;margin:auto}.add-image-button[_ngcontent-%COMP%]{width:50px;height:50px}.delete-image-button[_ngcontent-%COMP%]{position:absolute;top:-14px;left:-11px}.list-spacer[_ngcontent-%COMP%]{height:100px}.checked-state[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #7eb474}.bordered-divider[_ngcontent-%COMP%]{border-radius:13px}ion-accordion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:12px}.unchecked-state[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #ffffff}.unchecked-state[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #c30000}ion-footer[_ngcontent-%COMP%]{background:#fff}ion-list-header[_ngcontent-%COMP%]{font-size:18px}ion-toolbar[_ngcontent-%COMP%]{padding-top:5px!important;padding-bottom:5px!important}.logo-header-desktop[_ngcontent-%COMP%]{display:inline}.logo-header-mobile[_ngcontent-%COMP%]{display:none}.welcome-image[_ngcontent-%COMP%]{width:350px;display:block;margin:auto}@media screen and (max-width: 700px){.welcome-image[_ngcontent-%COMP%]{width:250px;display:block;margin:auto}.logo-header-desktop[_ngcontent-%COMP%]{display:none}.logo-header-mobile[_ngcontent-%COMP%]{display:block}.responsive_container[_ngcontent-%COMP%], .responsive_footer[_ngcontent-%COMP%]{width:100%;display:block;margin:auto}}"],data:{animation:[Ji]}}),r})()}];let qi=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[W.iI.forChild(Wi),W.iI]}),r})(),Zi=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[v.MD,_.bv]}),r})();var Ki=k(5553),Qi=k(688);let en=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[v.MD,T.YN,Zi,_.bv,qi,Ki.h,Qi.Lk]}),r})()}}]);