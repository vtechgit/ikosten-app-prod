"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8236],{8236:(Ki,J,E)=>{E.r(J),E.d(J,{MainPageModule:()=>Xi});var F=E(177),T=E(4341),d=E(1075),W=E(9583),k=E(9969),u=E(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var w=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(w||{});class G extends Error{constructor(r,t,o){super(r),this.message=r,this.code=t,this.data=o}}const ce=n=>{var r,t,o,i,a;const s=n.CapacitorCustomPlatform||null,l=n.Capacitor||{},_=l.Plugins=l.Plugins||{},c=n.CapacitorPlatforms,g=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==s?s.name:(n=>{var r,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(r=null==n?void 0:n.webkit)||void 0===r?void 0:r.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),p=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==g()),Vi=(null===(o=null==c?void 0:c.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(m=>{const f=U.get(m);return!!(null!=f&&f.platforms.has(g())||ne(m))}),ne=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(m=>{var f;return null===(f=l.PluginHeaders)||void 0===f?void 0:f.find(B=>B.name===m)}),U=new Map,Ji=(null===(a=null==c?void 0:c.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((m,f={})=>{const B=U.get(m);if(B)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),B.proxy;const y=g(),C=ne(m);let j;const Wi=function(){var h=(0,u.A)(function*(){return!j&&y in f?j=j="function"==typeof f[y]?yield f[y]():f[y]:null!==s&&!j&&"web"in f&&(j=j="function"==typeof f.web?yield f.web():f.web),j});return function(){return h.apply(this,arguments)}}(),H=h=>{let x;const M=(...I)=>{const P=Wi().then(v=>{const R=((h,x)=>{var M,I;if(!C){if(h)return null===(I=h[x])||void 0===I?void 0:I.bind(h);throw new G(`"${m}" plugin is not implemented on ${y}`,w.Unimplemented)}{const P=null==C?void 0:C.methods.find(v=>x===v.name);if(P)return"promise"===P.rtype?v=>l.nativePromise(m,x.toString(),v):(v,R)=>l.nativeCallback(m,x.toString(),v,R);if(h)return null===(M=h[x])||void 0===M?void 0:M.bind(h)}})(v,h);if(R){const L=R(...I);return x=null==L?void 0:L.remove,L}throw new G(`"${m}.${h}()" is not implemented on ${y}`,w.Unimplemented)});return"addListener"===h&&(P.remove=(0,u.A)(function*(){return x()})),P};return M.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:h,writable:!1,configurable:!1}),M},oe=H("addListener"),re=H("removeListener"),Zi=(h,x)=>{const M=oe({eventName:h},x),I=function(){var v=(0,u.A)(function*(){const R=yield M;re({eventName:h,callbackId:R},x)});return function(){return v.apply(this,arguments)}}(),P=new Promise(v=>M.then(()=>v({remove:I})));return P.remove=(0,u.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield I()}),P},z=new Proxy({},{get(h,x){switch(x){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?Zi:oe;case"removeListener":return re;default:return H(x)}}});return _[m]=z,U.set(m,{name:m,proxy:z,platforms:new Set([...Object.keys(f),...C?[y]:[]])}),z});return l.convertFileSrc||(l.convertFileSrc=m=>m),l.getPlatform=g,l.handleError=m=>n.console.error(m),l.isNativePlatform=p,l.isPluginAvailable=Vi,l.pluginMethodNoop=(m,f,B)=>Promise.reject(`${B} does not have an implementation of "${f}".`),l.registerPlugin=Ji,l.Exception=G,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},$=(n=>n.Capacitor=ce(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),A=$.registerPlugin;class X{constructor(r){this.listeners={},this.retainedEventArguments={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,t){var o=this;let i=!1;this.listeners[r]||(this.listeners[r]=[],i=!0),this.listeners[r].push(t);const s=this.windowListeners[r];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(r);const l=function(){var c=(0,u.A)(function*(){return o.removeListener(r,t)});return function(){return c.apply(this,arguments)}}();return Promise.resolve({remove:l})}removeAllListeners(){var r=this;return(0,u.A)(function*(){r.listeners={};for(const t in r.windowListeners)r.removeWindowListener(r.windowListeners[t]);r.windowListeners={}})()}notifyListeners(r,t,o){const i=this.listeners[r];if(i)i.forEach(a=>a(t));else if(o){let a=this.retainedEventArguments[r];a||(a=[]),a.push(t),this.retainedEventArguments[r]=a}}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,t){this.windowListeners[t]={registered:!1,windowEventName:r,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(r="not implemented"){return new $.Exception(r,w.Unimplemented)}unavailable(r="not available"){return new $.Exception(r,w.Unavailable)}removeListener(r,t){var o=this;return(0,u.A)(function*(){const i=o.listeners[r];if(!i)return;const a=i.indexOf(t);o.listeners[r].splice(a,1),o.listeners[r].length||o.removeWindowListener(o.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const t=this.retainedEventArguments[r];t&&(delete this.retainedEventArguments[r],t.forEach(o=>{this.notifyListeners(r,o)}))}}const Z=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),K=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _e extends X{getCookies(){return(0,u.A)(function*(){const r=document.cookie,t={};return r.split(";").forEach(o=>{if(o.length<=0)return;let[i,a]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=K(i).trim(),a=K(a).trim(),t[i]=a}),t})()}setCookie(r){return(0,u.A)(function*(){try{const t=Z(r.key),o=Z(r.value),i=`; expires=${(r.expires||"").replace("expires=","")}`,a=(r.path||"/").replace("path=",""),s=null!=r.url&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${t}=${o||""}${i}; path=${a}; ${s};`}catch(t){return Promise.reject(t)}})()}deleteCookie(r){return(0,u.A)(function*(){try{document.cookie=`${r.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,u.A)(function*(){try{const r=document.cookie.split(";")||[];for(const t of r)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(r){return Promise.reject(r)}})()}clearAllCookies(){var r=this;return(0,u.A)(function*(){try{yield r.clearCookies()}catch(t){return Promise.reject(t)}})()}}A("CapacitorCookies",{web:()=>new _e});const de=function(){var n=(0,u.A)(function*(r){return new Promise((t,o)=>{const i=new FileReader;i.onload=()=>{const a=i.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},i.onerror=a=>o(a),i.readAsDataURL(r)})});return function(t){return n.apply(this,arguments)}}();class me extends X{request(r){return(0,u.A)(function*(){const t=((n,r={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},r),i=((n={})=>{const r=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,a,s)=>(i[a]=n[r[s]],i),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[s,l]of Object.entries(n.data||{}))a.set(s,l);t.body=a.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){const a=new FormData;if(n.data instanceof FormData)n.data.forEach((l,_)=>{a.append(_,l)});else for(const l of Object.keys(n.data))a.append(l,n.data[l]);t.body=a;const s=new Headers(t.headers);s.delete("content-type"),t.headers=s}else(i.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(r,r.webFetchExtra),o=((n,r=!0)=>n?Object.entries(n).reduce((o,i)=>{const[a,s]=i;let l,_;return Array.isArray(s)?(_="",s.forEach(c=>{l=r?encodeURIComponent(c):c,_+=`${a}=${l}&`}),_.slice(0,-1)):(l=r?encodeURIComponent(s):s,_=`${a}=${l}`),`${o}&${_}`},"").substr(1):null)(r.params,r.shouldEncodeUrlParams),i=o?`${r.url}?${o}`:r.url,a=yield fetch(i,t),s=a.headers.get("content-type")||"";let _,c,{responseType:l="text"}=a.ok?r:{};switch(s.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":c=yield a.blob(),_=yield de(c);break;case"json":_=yield a.json();break;default:_=yield a.text()}const b={};return a.headers.forEach((g,S)=>{b[S]=g}),{data:_,headers:b,status:a.status,url:a.url}})()}get(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"GET"}))})()}post(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"POST"}))})()}put(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"PUT"}))})()}patch(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"PATCH"}))})()}delete(r){var t=this;return(0,u.A)(function*(){return t.request(Object.assign(Object.assign({},r),{method:"DELETE"}))})()}}A("CapacitorHttp",{web:()=>new me});var D=function(n){return n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS",n}(D||{}),N=function(n){return n.Rear="REAR",n.Front="FRONT",n}(N||{}),Q=function(n){return n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl",n}(Q||{});class ee extends X{getPhoto(r){var t=this;return(0,u.A)(function*(){return new Promise(function(){var o=(0,u.A)(function*(i,a){if(r.webUseInput||r.source===D.Photos)t.fileInputExperience(r,i,a);else if(r.source===D.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=r.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:r.promptLabelPhoto||"From Photos"},{title:r.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",function(){var l=(0,u.A)(function*(_){0===_.detail?t.fileInputExperience(r,i,a):t.cameraExperience(r,i,a)});return function(_){return l.apply(this,arguments)}}())}else t.cameraExperience(r,i,a)});return function(i,a){return o.apply(this,arguments)}}())})()}pickImages(r){var t=this;return(0,u.A)(function*(){return new Promise(function(){var o=(0,u.A)(function*(i,a){t.multipleFileInputExperience(i,a)});return function(i,a){return o.apply(this,arguments)}}())})()}cameraExperience(r,t,o){var i=this;return(0,u.A)(function*(){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=r.direction===N.Front?"user":"environment",document.body.appendChild(a);try{yield a.componentOnReady(),a.addEventListener("onPhoto",function(){var s=(0,u.A)(function*(l){const _=l.detail;null===_?o(new G("User cancelled photos app")):_ instanceof Error?o(_):t(yield i._getCameraPhoto(_,r)),a.dismiss(),document.body.removeChild(a)});return function(l){return s.apply(this,arguments)}}()),a.present()}catch{i.fileInputExperience(r,t,o)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),i.fileInputExperience(r,t,o)})()}fileInputExperience(r,t,o){let i=document.querySelector("#_capacitor-camera-input");const a=()=>{var s;null===(s=i.parentNode)||void 0===s||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const l=i.files[0];let _="jpeg";if("image/png"===l.type?_="png":"image/gif"===l.type&&(_="gif"),"dataUrl"===r.resultType||"base64"===r.resultType){const c=new FileReader;c.addEventListener("load",()=>{if("dataUrl"===r.resultType)t({dataUrl:c.result,format:_});else if("base64"===r.resultType){const b=c.result.split(",")[1];t({base64String:b,format:_})}a()}),c.readAsDataURL(l)}else t({webPath:URL.createObjectURL(l),format:_}),a()}),i.addEventListener("cancel",s=>{o(new G("User cancelled photos app")),a()})),i.accept="image/*",i.capture=!0,r.source===D.Photos||r.source===D.Prompt?i.removeAttribute("capture"):r.direction===N.Front?i.capture="user":r.direction===N.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(r,t){let o=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var a;null===(a=o.parentNode)||void 0===a||a.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input-multiple",o.type="file",o.hidden=!0,o.multiple=!0,document.body.appendChild(o),o.addEventListener("change",a=>{const s=[];for(let l=0;l<o.files.length;l++){const _=o.files[l];let c="jpeg";"image/png"===_.type?c="png":"image/gif"===_.type&&(c="gif"),s.push({webPath:URL.createObjectURL(_),format:c})}r({photos:s}),i()}),o.addEventListener("cancel",a=>{t(new G("User cancelled photos app")),i()})),o.accept="image/*",o.click()}_getCameraPhoto(r,t){return new Promise((o,i)=>{const a=new FileReader,s=r.type.split("/")[1];"uri"===t.resultType?o({webPath:URL.createObjectURL(r),format:s,saved:!1}):(a.readAsDataURL(r),a.onloadend=()=>{const l=a.result;o("dataUrl"===t.resultType?{dataUrl:l,format:s,saved:!1}:{base64String:l.split(",")[1],format:s,saved:!1})},a.onerror=l=>{i(l)})})}checkPermissions(){var r=this;return(0,u.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw r.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw r.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var r=this;return(0,u.A)(function*(){throw r.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var r=this;return(0,u.A)(function*(){throw r.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var r=this;return(0,u.A)(function*(){throw r.unavailable("Not implemented on web.")})()}}new ee;const fe=A("Camera",{web:()=>new ee});var e=E(4438),Y=E(1626);const V=(new Y.Lr).set("rcy-key","Jxa4lyCUktiBkhC0IiL4"),he=(new Y.Lr).set("rcy-key","Jxa4lyCUktiBkhC0IiL4");let te=(()=>{var n;class r{constructor(o){this.http=o,this.endpoint="https://api.ikosten.com/api/"}create(o,i={}){return this.http.post(this.endpoint+o,i)}read(o,i={}){let a=this.endpoint+o;return i._=Date.now(),this.http.get(a,{headers:V,params:i})}update(o,i={}){return this.http.put(this.endpoint+o,i,{headers:V})}delete(o,i={}){return this.http.delete(this.endpoint+o,{headers:V,params:i})}sendForm(o,i){return this.http.post(this.endpoint+o,i,{headers:he})}}return(n=r).\u0275fac=function(o){return new(o||n)(e.KVO(Y.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var be=E(345);let xe=(()=>{var n;class r{constructor(){this.fileDropped=new e.bkB}onDragOver(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!0}onDragLeave(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!1}ondrop(o){o.preventDefault(),o.stopPropagation(),this.fileOver=!1;let i=o.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275dir=e.FsC({type:n,selectors:[["","appDropFilesInput",""]],hostVars:2,hostBindings:function(o,i){1&o&&e.bIt("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragLeave(s)})("drop",function(s){return i.ondrop(s)}),2&o&&e.AVh("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),r})();function Ee(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function ve(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function ke(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Me(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function je(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Ie(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function Pe(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Fe(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function ye(n,r){1&n&&e.nrm(0,"ion-icon",6),2&n&&e.Y8G("@fadeIn",void 0)}function Re(n,r){1&n&&e.nrm(0,"ion-icon",7),2&n&&e.Y8G("@fadeIn",void 0)}function Te(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-grid",0)(1,"ion-row")(2,"ion-col")(3,"ion-textarea",8),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.comment,i)||(a.comment=i),e.Njj(i)}),e.k0s()()()()}if(2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(3),e.R50("ngModel",t.comment),e.Y8G("counter",!0)}}function Ge(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-button",1),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishRating())}),e.EFF(4," Finalizar "),e.k0s()()()()}2&n&&e.Y8G("@fadeIn",void 0)}const De=(0,k.kY)(":enter",[(0,k.iF)({opacity:0}),(0,k.i0)("0.1s 0.1s ease-in",(0,k.iF)({opacity:1}))]),Se=(0,k.hZ)("fadeIn",[De]);let Be=(()=>{var n;class r{constructor(o){this.api=o,this.rating=0,this.comment="",this.userEmail="",this.sent=new e.bkB}ngOnInit(){}setRating(o){this.rating=o}finishRating(){let o=JSON.parse(localStorage.getItem("exportSettings")),i=localStorage.getItem("processId");o.userEmail&&(this.userEmail=o.userEmail),this.api.create("ratings",{ratings_lead_email:this.userEmail,ratings_process:i,ratings_score:this.rating,ratings_comment:this.comment}).subscribe(a=>{this.api.update("processes/"+i,{process_date_finished:Date.now()}).subscribe(s=>{this.sent.emit()})})}}return(n=r).\u0275fac=function(o){return new(o||n)(e.rXU(te))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-star-rating"]],outputs:{sent:"sent"},decls:19,vars:12,consts:[[1,"ion-margin-top"],[3,"click"],["name","star-outline",4,"ngIf"],["name","star",4,"ngIf"],["class","ion-margin-top",4,"ngIf"],[4,"ngIf"],["name","star-outline"],["name","star"],["label","Cuentanos en que podemos mejorar","rows","8","maxlength","100","mode","md","labelPlacement","floating","fill","outline","placeholder","Excribe tu comentario aqu\xed",3,"ngModelChange","ngModel","counter"]],template:function(o,i){1&o&&(e.j41(0,"ion-grid",0)(1,"ion-row")(2,"ion-col",1),e.bIt("click",function(){return i.setRating(1)}),e.DNE(3,Ee,1,1,"ion-icon",2)(4,ve,1,1,"ion-icon",3),e.k0s(),e.j41(5,"ion-col",1),e.bIt("click",function(){return i.setRating(2)}),e.DNE(6,ke,1,1,"ion-icon",2)(7,Me,1,1,"ion-icon",3),e.k0s(),e.j41(8,"ion-col",1),e.bIt("click",function(){return i.setRating(3)}),e.DNE(9,je,1,1,"ion-icon",2)(10,Ie,1,1,"ion-icon",3),e.k0s(),e.j41(11,"ion-col",1),e.bIt("click",function(){return i.setRating(4)}),e.DNE(12,Pe,1,1,"ion-icon",2)(13,Fe,1,1,"ion-icon",3),e.k0s(),e.j41(14,"ion-col",1),e.bIt("click",function(){return i.setRating(5)}),e.DNE(15,ye,1,1,"ion-icon",2)(16,Re,1,1,"ion-icon",3),e.k0s()()(),e.DNE(17,Te,4,3,"ion-grid",4)(18,Ge,5,1,"ion-grid",5)),2&o&&(e.R7$(3),e.Y8G("ngIf",i.rating<1),e.R7$(),e.Y8G("ngIf",i.rating>=1),e.R7$(2),e.Y8G("ngIf",i.rating<2),e.R7$(),e.Y8G("ngIf",i.rating>=2),e.R7$(2),e.Y8G("ngIf",i.rating<3),e.R7$(),e.Y8G("ngIf",i.rating>=3),e.R7$(2),e.Y8G("ngIf",i.rating<4),e.R7$(),e.Y8G("ngIf",i.rating>=4),e.R7$(2),e.Y8G("ngIf",i.rating<5),e.R7$(),e.Y8G("ngIf",i.rating>=5),e.R7$(),e.Y8G("ngIf",i.rating>0),e.R7$(),e.Y8G("ngIf",i.rating>0))},dependencies:[F.bT,T.BC,T.tU,T.vS,d.Jm,d.hU,d.lO,d.iq,d.ln,d.nc,d.Gw],styles:["ion-icon[_ngcontent-%COMP%]{display:block;margin:auto;font-size:35px;color:#81cc2b;cursor:pointer}"],data:{animation:[Se]}}),r})();var ie=E(1178);const Ce=(n,r)=>({country:n,code:r});function we(n,r){1&n&&(e.j41(0,"div")(1,"div",17)(2,"h1",18),e.EFF(3,"\xa1Bienvenido!"),e.k0s(),e.j41(4,"h3",18),e.EFF(5,"Cruza tus extractos con tus gastos y ahorrate horas con ikosten "),e.k0s()(),e.nrm(6,"ion-img",19),e.k0s()),2&n&&e.Y8G("@fadeIn",void 0)}function $e(n,r){1&n&&(e.j41(0,"ion-list-header"),e.EFF(1," Paso #1 Seleccione el pa\xeds donde se originan los gastos "),e.k0s())}function Ne(n,r){1&n&&(e.j41(0,"h3",18),e.EFF(1,"Sube uno o varios recibos / facturas por pa\xeds donde se originaron tus gastos "),e.k0s())}function Ye(n,r){if(1&n&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",e.l_i(3,Ce,t.country,t.code)),e.R7$(),e.Lme("",t.country," (",t.code,") ")}}function Le(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-item")(4,"ion-select",22),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.currencyBlockSelected,i)||(a.currencyBlockSelected=i),e.Njj(i)}),e.DNE(5,Ye,2,6,"ion-select-option",23),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(4),e.R50("ngModel",t.currencyBlockSelected),e.R7$(),e.Y8G("ngForOf",t.currencies)}}function Ae(n,r){1&n&&e.nrm(0,"ion-progress-bar",35)}function Xe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",27)(2,"h3",18),e.EFF(3,"Tomar Foto"),e.k0s(),e.j41(4,"div",28),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.takePhoto())}),e.j41(5,"div",29),e.nrm(6,"ion-icon",30),e.k0s()(),e.j41(7,"ion-note"),e.EFF(8,"Las fotos deben ser claras y no pueden quedar cortadas "),e.k0s()(),e.j41(9,"ion-col",27)(10,"h3",18),e.EFF(11,"Subir Archivos"),e.k0s(),e.j41(12,"div",31),e.bIt("fileDropped",function(i){e.eBV(t);const a=e.XpG(3);return e.Njj(a.onFileDropped(i,"bills"))}),e.j41(13,"input",32,0),e.bIt("change",function(i){e.eBV(t);const a=e.XpG(3);return e.Njj(a.fileBrowseHandler(i,"bills"))}),e.k0s(),e.j41(15,"div",29),e.nrm(16,"ion-icon",33),e.k0s()(),e.DNE(17,Ae,1,0,"ion-progress-bar",34),e.j41(18,"ion-note"),e.EFF(19,"Solo puedes subir archivos en PDF "),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(12),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.isUploading)}}function Ve(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",41)(1,"ion-button",42),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG(4);return e.Njj(a.deleteImageToUpload(i))}),e.nrm(2,"ion-icon",43),e.k0s(),e.nrm(3,"ion-img",44),e.k0s()}if(2&n){const t=r.$implicit;e.R7$(3),e.Y8G("src",t.dataUrl)}}function Oe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-row",36),e.DNE(1,Ve,4,1,"ion-col",37),e.j41(2,"ion-col",38)(3,"ion-button",39),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.takePhoto())}),e.nrm(4,"ion-icon",40),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.imagesToUpload)}}function Ue(n,r){if(1&n&&(e.j41(0,"div",17)(1,"ion-list-header",25),e.EFF(2," Paso #2 Toma fotos o sube tus gastos / facturas en PDF "),e.k0s(),e.j41(3,"ion-grid"),e.DNE(4,Xe,20,3,"ion-row",9)(5,Oe,5,1,"ion-row",26),e.k0s()()),2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(4),e.Y8G("ngIf",!t.imagesToUpload||0==t.imagesToUpload.length),e.R7$(),e.Y8G("ngIf",t.imagesToUpload&&t.imagesToUpload.length>0)}}function He(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.file)}}function ze(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.vendor)}}function Je(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("",e.i5U(2,2,t.date,"dd/MM/yyyy")," ",t.hour,"")}}function We(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit,o=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.total)," ",o.currency,"")}}function qe(n,r){1&n&&(e.j41(0,"p",58),e.EFF(1,"Error, vuelva a intentarlo"),e.k0s())}function Ze(n,r){1&n&&e.nrm(0,"ion-progress-bar",59)}function Ke(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function Qe(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label"),e.DNE(2,He,2,1,"h3",9)(3,ze,2,1,"h3",9)(4,Je,3,5,"p",9)(5,We,3,4,"p",9)(6,qe,2,0,"p",54)(7,Ze,1,0,"ion-progress-bar",55)(8,Ke,2,0,"ion-note",9),e.k0s(),e.j41(9,"ion-button",56),e.bIt("click",function(){const i=e.eBV(t),a=i.$implicit,s=i.index,l=e.XpG().index,_=e.XpG(4);return e.Njj(_.deleteBill(l,s,a.document_id))}),e.nrm(10,"ion-icon",57),e.k0s()()}if(2&n){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf",500==t.status||1==t.status&&!t.vendor||1==t.status&&""==t.vendor),e.R7$(),e.Y8G("ngIf",1==t.status&&t.vendor&&""!=t.vendor),e.R7$(),e.Y8G("ngIf",1==t.status),e.R7$(),e.Y8G("ngIf",1==t.status),e.R7$(),e.Y8G("ngIf",500==t.status),e.R7$(),e.Y8G("ngIf",0==t.status),e.R7$(),e.Y8G("ngIf",0==t.status)}}function et(n,r){if(1&n&&(e.j41(0,"ion-accordion",24)(1,"ion-item",51)(2,"ion-label"),e.EFF(3),e.k0s()(),e.j41(4,"div",52)(5,"ion-list"),e.DNE(6,Qe,11,7,"ion-item",53),e.k0s()()()),2&n){const t=r.$implicit;e.Y8G("value",r.index),e.R7$(3),e.JRh(t.country),e.R7$(3),e.Y8G("ngForOf",t.bill)}}function tt(n,r){if(1&n&&(e.j41(0,"div")(1,"ion-list-header"),e.EFF(2," Gastos cargados "),e.k0s(),e.j41(3,"ion-accordion-group",50),e.DNE(4,et,7,3,"ion-accordion",23),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("value",t.extracts.bills.length-1),e.R7$(),e.Y8G("ngForOf",t.extracts.bills)}}function it(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",47)(1,"ion-button",60),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.deleteAllReceiptsAlert())}),e.EFF(2," Eliminar Todo "),e.nrm(3,"ion-icon",61),e.k0s()()}}function nt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-list",17),e.DNE(1,tt,5,2,"div",9),e.j41(2,"div",17)(3,"ion-grid")(4,"ion-row",45),e.DNE(5,it,4,0,"ion-col",46),e.j41(6,"ion-col",47)(7,"ion-button",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.openUploading())}),e.EFF(8," Subir Recibo / Factura "),e.nrm(9,"ion-icon",49),e.k0s()()()()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("ngIf",t.extracts&&t.extracts.bills&&t.extracts.bills.length>0),e.R7$(4),e.Y8G("ngIf",t.extracts&&t.extracts.bills&&t.extracts.bills.length>0)}}function ot(n,r){if(1&n&&(e.j41(0,"div")(1,"div",17)(2,"ion-list"),e.DNE(3,$e,2,0,"ion-list-header",9)(4,Ne,2,0,"h3",20),e.k0s()(),e.DNE(5,Le,6,2,"ion-grid",9)(6,Ue,6,3,"div",21)(7,nt,10,3,"ion-list",21),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.isUploadingOther),e.R7$(),e.Y8G("ngIf",!t.isUploadingOther),e.R7$(),e.Y8G("ngIf",t.isUploadingOther),e.R7$(),e.Y8G("ngIf",t.isUploadingOther&&t.currencyBlockSelected&&""!=t.currencyBlockSelected),e.R7$(),e.Y8G("ngIf",!t.isUploadingOther)}}function rt(n,r){1&n&&e.nrm(0,"ion-progress-bar",35)}function at(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"div",31),e.bIt("fileDropped",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onFileDropped(i,"extracts"))}),e.j41(2,"input",62,0),e.bIt("change",function(i){e.eBV(t);const a=e.XpG(2);return e.Njj(a.fileBrowseHandler(i,"extracts"))}),e.k0s(),e.j41(4,"div",29),e.nrm(5,"ion-icon",33),e.k0s()(),e.DNE(6,rt,1,0,"ion-progress-bar",34),e.j41(7,"ion-note"),e.EFF(8,"Solo puedes subir archivos en PDF "),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.isUploading)}}function st(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t.extracts.extract.file)}}function lt(n,r){if(1&n&&(e.j41(0,"h3"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t.extracts.extract.bankName)}}function ct(n,r){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"date"),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Lme(" ",e.i5U(2,2,t.extracts.extract.startDate,"dd/MM/yyyy")," hasta ",e.i5U(3,5,t.extracts.extract.endDate,"dd/MM/yyyy"),"")}}function _t(n,r){1&n&&e.nrm(0,"ion-progress-bar",59)}function dt(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function ut(n,r){if(1&n&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme("",t.country," (",t.code,")")}}function gt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-list",17)(1,"ion-list-header"),e.EFF(2," Extractos cargados "),e.k0s(),e.j41(3,"ion-item")(4,"ion-label"),e.DNE(5,st,2,1,"h3",9)(6,lt,2,1,"h3",9)(7,ct,4,8,"p",9)(8,_t,1,0,"ion-progress-bar",55)(9,dt,2,0,"ion-note",9),e.k0s(),e.j41(10,"ion-button",56),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.deleteExtract(0,i.extracts.extract.document_id))}),e.nrm(11,"ion-icon",57),e.k0s()(),e.j41(12,"ion-item")(13,"ion-select",63),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExtractType())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts.extract.type,i)||(a.extracts.extract.type=i),e.Njj(i)}),e.j41(14,"ion-select-option",64),e.EFF(15,"Tarjeta de Cr\xe9dito"),e.k0s(),e.j41(16,"ion-select-option",65),e.EFF(17,"Tarjeta D\xe9bito"),e.k0s()()(),e.j41(18,"ion-item")(19,"ion-select",66),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExtractType())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts.extract.currency,i)||(a.extracts.extract.currency=i),e.Njj(i)}),e.DNE(20,ut,2,3,"ion-select-option",23),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(5),e.Y8G("ngIf",0==t.extracts.extract.status||1==t.extracts.extract.status&&!t.extracts.extract.bankName||1==t.extracts.extract.status&&""==t.extracts.extract.bankName),e.R7$(),e.Y8G("ngIf",1==t.extracts.extract.status&&""!=t.extracts.extract.bankName),e.R7$(),e.Y8G("ngIf",t.extracts.extract.startDate&&""!=t.extracts.extract.startDate&&t.extracts.extract.endDate&&""!=t.extracts.extract.endDate),e.R7$(),e.Y8G("ngIf",0==t.extracts.extract.status),e.R7$(),e.Y8G("ngIf",0==t.extracts.extract.status),e.R7$(4),e.R50("ngModel",t.extracts.extract.type),e.R7$(6),e.R50("ngModel",t.extracts.extract.currency),e.R7$(),e.Y8G("ngForOf",t.currencies)}}function pt(n,r){if(1&n&&(e.j41(0,"div")(1,"div",17)(2,"h3",18),e.EFF(3,"Sube tu extracto bancario o de tarjeta de cr\xe9dito en PDF "),e.k0s()(),e.DNE(4,at,9,3,"div",21)(5,gt,21,9,"ion-list",21),e.k0s()),2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(4),e.Y8G("ngIf",!t.extracts.extract||t.extracts.extract.length<=0),e.R7$(),e.Y8G("ngIf",t.extracts&&t.extracts.extract)}}function mt(n,r){1&n&&(e.j41(0,"div",17)(1,"h3",18),e.EFF(2," Analizando Resultados "),e.k0s(),e.j41(3,"ion-list")(4,"ion-item",67),e.nrm(5,"ion-progress-bar",68),e.k0s()()())}function ft(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.exchangeValue)," ",t.currency,"")}}function ht(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label",79)(2,"h4"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-grid",80)(6,"ion-row")(7,"ion-col")(8,"ion-note"),e.EFF(9,"Recibo"),e.k0s(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"number"),e.k0s(),e.DNE(13,ft,3,4,"ion-note",9),e.k0s(),e.j41(14,"ion-col")(15,"ion-note"),e.EFF(16),e.k0s(),e.j41(17,"p"),e.EFF(18),e.nI1(19,"number"),e.k0s()()()(),e.j41(20,"ion-button",56),e.bIt("click",function(){const i=e.eBV(t),a=i.$implicit,s=i.index,l=e.XpG().index,_=e.XpG(4);return e.Njj(_.deleteNotMatched(l,s,a))}),e.EFF(21," Eliminar "),e.k0s(),e.j41(22,"ion-button",81),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(5);return e.Njj(a.editLine(i))}),e.EFF(23," Editar "),e.k0s()()()}if(2&n){const t=r.$implicit;e.R7$(3),e.Lme("",e.i5U(4,8,t.date,"dd/MM/yyyy")," ",t.vendor,""),e.R7$(8),e.Lme("$",e.bMT(12,11,t.bill)," ",t.currencyBill,""),e.R7$(2),e.Y8G("ngIf",t.exchange),e.R7$(3),e.JRh("credit"==t.type?"Tj Credito":"Tj Debito"),e.R7$(2),e.Lme("$",e.bMT(19,13,t.extract)," ",t.currency,"")}}function bt(n,r){if(1&n&&(e.j41(0,"ion-list")(1,"ion-item-divider",78)(2,"ion-label"),e.EFF(3),e.k0s()(),e.DNE(4,ht,24,15,"ion-item",53),e.k0s()),2&n){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.country," "),e.R7$(),e.Y8G("ngForOf",t.bill)}}function xt(n,r){if(1&n&&(e.j41(0,"ion-accordion-group",75)(1,"ion-accordion",71)(2,"ion-item",76)(3,"ion-label"),e.EFF(4),e.k0s()(),e.j41(5,"div",77),e.DNE(6,bt,5,2,"ion-list",53),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(4),e.Lme("Revisar ",t.countNotMatched()," ",1==t.countNotMatched()?"gasto no coincide":"gastos no coinciden"," con el estado financiero:"),e.R7$(2),e.Y8G("ngForOf",t.results.notMatched)}}function Et(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Lme("$",e.bMT(2,2,t.exchangeValue)," ",t.currency,"")}}function vt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-label",79)(2,"h4"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-grid",80)(6,"ion-row")(7,"ion-col")(8,"ion-note"),e.EFF(9,"Recibo"),e.k0s(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"number"),e.k0s(),e.DNE(13,Et,3,4,"ion-note",9),e.k0s(),e.j41(14,"ion-col")(15,"ion-note"),e.EFF(16),e.k0s(),e.j41(17,"p"),e.EFF(18),e.nI1(19,"number"),e.k0s()()()(),e.j41(20,"ion-button",56),e.bIt("click",function(){const i=e.eBV(t),a=i.$implicit,s=i.index,l=e.XpG().index,_=e.XpG(4);return e.Njj(_.deleteNotMatched(l,s,a))}),e.EFF(21," Eliminar "),e.k0s()()()}if(2&n){const t=r.$implicit;e.R7$(3),e.Lme("",e.i5U(4,8,t.date,"dd/MM/yyyy")," ",t.vendor,""),e.R7$(8),e.Lme("$",e.bMT(12,11,t.bill)," ",t.currencyBill,""),e.R7$(2),e.Y8G("ngIf",t.exchange),e.R7$(3),e.JRh("credit"==t.type?"Tj Credito":"Tj Debito"),e.R7$(2),e.Lme("$",e.bMT(19,13,t.extract)," ",t.currency,"")}}function kt(n,r){if(1&n&&(e.j41(0,"ion-list")(1,"ion-item-divider",78)(2,"ion-label"),e.EFF(3),e.k0s()(),e.DNE(4,vt,22,15,"ion-item",53),e.k0s()),2&n){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.country," "),e.R7$(),e.Y8G("ngForOf",t.bill)}}function Mt(n,r){if(1&n&&(e.j41(0,"div",77),e.DNE(1,kt,5,2,"ion-list",53),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.results.matchedBills)}}function jt(n,r){if(1&n&&(e.j41(0,"ion-item")(1,"ion-label",79)(2,"h4"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s()()()),2&n){const t=r.$implicit,o=e.XpG(4);e.R7$(3),e.Lme("",e.i5U(4,5,t.date,"dd/MM/yyyy")," ",t.description,""),e.R7$(3),e.E5c("","credit"==o.results.notmatchedExtractLines.type?"Tj Credito":"Tj Debito"," $",t.amount," ",o.results.notmatchedExtractLines.currency,"")}}function It(n,r){if(1&n&&(e.j41(0,"ion-accordion-group",82)(1,"ion-accordion",71)(2,"ion-item",83)(3,"ion-label"),e.EFF(4),e.k0s()(),e.j41(5,"div",52)(6,"ion-list"),e.DNE(7,jt,7,8,"ion-item",53),e.k0s()()()()),2&n){const t=e.XpG(3);e.R7$(4),e.Lme("",t.results.notmatchedExtractLines.lines.length," ",1==t.results.notmatchedExtractLines.lines.length?"Linea del estado financiero no coincide":"Lineas del estado financiero no coinciden"," con ning\xfan recibo:"),e.R7$(3),e.Y8G("ngForOf",t.results.notmatchedExtractLines.lines)}}function Pt(n,r){if(1&n&&(e.j41(0,"div",17)(1,"h3",18),e.EFF(2," Resultados "),e.k0s(),e.DNE(3,xt,7,3,"ion-accordion-group",69),e.j41(4,"ion-accordion-group",70)(5,"ion-accordion",71)(6,"ion-item",72)(7,"ion-label"),e.EFF(8),e.k0s()(),e.DNE(9,Mt,2,1,"div",73),e.k0s()(),e.DNE(10,It,8,3,"ion-accordion-group",74),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.results&&t.results.notMatched&&t.results.notMatched.length>0),e.R7$(5),e.Lme("Revisar ",t.countMatched()," ",1==t.countMatched()?"gasto coincide":"gastos coinciden"," con el estado financiero:"),e.R7$(),e.Y8G("ngIf",t.results&&t.results.matchedBills&&t.results.matchedBills.length>0),e.R7$(),e.Y8G("ngIf",t.results.notmatchedExtractLines&&t.results.notmatchedExtractLines.lines&&t.results.notmatchedExtractLines.lines.length>0)}}function Ft(n,r){if(1&n&&(e.j41(0,"div"),e.DNE(1,mt,6,0,"div",21)(2,Pt,11,5,"div",21),e.k0s()),2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("ngIf",!t.results),e.R7$(),e.Y8G("ngIf",t.results)}}function yt(n,r){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",17)(2,"h3",18),e.EFF(3," Enviar\xe9mos el reporte a tu correo "),e.k0s()(),e.j41(4,"div",17)(5,"ion-item")(6,"ion-input",84),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.userName,i)||(a.userName=i),e.Njj(i)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-input",85),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.userEmail,i)||(a.userEmail=i),e.Njj(i)}),e.k0s()()(),e.j41(9,"div",17)(10,"ion-list")(11,"ion-list-header"),e.EFF(12," Elige el formato "),e.k0s(),e.j41(13,"ion-item")(14,"ion-checkbox",86),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.sendPdf,i)||(a.sendPdf=i),e.Njj(i)}),e.EFF(15,"Enviar PDF"),e.k0s()(),e.j41(16,"ion-item")(17,"ion-checkbox",86),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changeExportSettings())}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.sendExcel,i)||(a.sendExcel=i),e.Njj(i)}),e.EFF(18,"Enviar Excel"),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(6),e.R50("ngModel",t.userName),e.R7$(2),e.R50("ngModel",t.userEmail),e.R7$(6),e.R50("ngModel",t.sendPdf),e.R7$(3),e.R50("ngModel",t.sendExcel)}}function Rt(n,r){1&n&&(e.j41(0,"div")(1,"div",17)(2,"h3",18),e.EFF(3," El reporte se esta enviando, solo tomar\xe1 un minuto... "),e.k0s(),e.nrm(4,"ion-progress-bar",68),e.k0s()())}function Tt(n,r){if(1&n&&(e.j41(0,"div"),e.DNE(1,yt,19,4,"div",9)(2,Rt,5,0,"div",9),e.k0s()),2&n){const t=e.XpG();e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("ngIf",!t.sendingForm),e.R7$(),e.Y8G("ngIf",t.sendingForm)}}function Gt(n,r){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",17)(2,"h2",18),e.EFF(3," El reporte se ha enviado a tu correo "),e.k0s(),e.j41(4,"h3",87),e.EFF(5," \xbfQu\xe9 tal te pareci\xf3 la experiencia Ikosten? "),e.k0s(),e.j41(6,"app-star-rating",88),e.bIt("sent",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishProcess())}),e.k0s()()()}2&n&&e.Y8G("@fadeIn",void 0)}function Dt(n,r){1&n&&(e.j41(0,"div")(1,"div",17)(2,"h2",89),e.EFF(3," \xa1ESPERA! "),e.k0s(),e.j41(4,"h2",90)(5,"span",91),e.EFF(6,"12 USD"),e.k0s(),e.EFF(7," -> "),e.j41(8,"span",92),e.EFF(9,"9.99 USD"),e.k0s()(),e.j41(10,"h3",87),e.EFF(11," Haz ganado un DESCUENTO en tu membres\xeda "),e.j41(12,"span",93),e.EFF(13,"Pro"),e.k0s(),e.EFF(14,"! "),e.k0s(),e.j41(15,"h2",89),e.EFF(16,"Este descuento solo es v\xe1lido por \xfanica vez "),e.k0s()()()),2&n&&e.Y8G("@fadeIn",void 0)}function St(n,r){1&n&&(e.j41(0,"div")(1,"div",17)(2,"h2",89),e.EFF(3," Cuidado "),e.k0s(),e.j41(4,"h2",18),e.EFF(5,"Tus datos ser\xe1n eliminados permanentemente, "),e.nrm(6,"br"),e.j41(7,"span",93),e.EFF(8,"Deseas continuar?"),e.k0s()()()()),2&n&&e.Y8G("@fadeIn",void 0)}function Bt(n,r){1&n&&(e.j41(0,"div")(1,"div",17)(2,"h2",89),e.EFF(3," Tus datos se han eliminado "),e.k0s(),e.j41(4,"h2",18),e.EFF(5,"Gracias por utilizar Kosten, nos vemos pronto! "),e.k0s()()()),2&n&&e.Y8G("@fadeIn",void 0)}function Ct(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",94),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onWillDismiss())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Elige tu plan"),e.k0s()()(),e.j41(7,"ion-content",17)(8,"ion-grid")(9,"ion-row")(10,"ion-col",47)(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),e.EFF(14,"4.99 USD/mes"),e.k0s(),e.j41(15,"ion-card-subtitle"),e.EFF(16,"Basic "),e.k0s()(),e.j41(17,"ion-card-content")(18,"ion-list")(19,"ion-item",67),e.EFF(20," 4 procesos "),e.k0s(),e.j41(21,"ion-item",67),e.EFF(22," forma de pago de pago en efectivo, debito y credito "),e.k0s(),e.j41(23,"ion-item",67),e.EFF(24," Exportar a Excel y PDF "),e.k0s(),e.j41(25,"ion-item",67),e.EFF(26," Guarda el historial "),e.k0s()()(),e.j41(27,"div",17)(28,"ion-button",95),e.EFF(29,"Elegir"),e.k0s()()()(),e.j41(30,"ion-col",47)(31,"ion-card")(32,"ion-card-header")(33,"ion-card-title"),e.EFF(34,"12 USD/mes"),e.k0s(),e.j41(35,"ion-card-subtitle"),e.EFF(36,"Pro "),e.k0s()(),e.j41(37,"ion-card-content")(38,"ion-list")(39,"ion-item",67),e.EFF(40," Todo lo de Basic + "),e.k0s(),e.j41(41,"ion-item",67),e.EFF(42," procesos ilimitados "),e.k0s(),e.j41(43,"ion-item",67),e.EFF(44," Exportar en m\xe1s de una moneda "),e.k0s()()(),e.j41(45,"div",17)(46,"ion-button",95),e.EFF(47,"Elegir"),e.k0s()()()()()()()}}function wt(n,r){1&n&&(e.j41(0,"ion-list-header"),e.EFF(1," Toma fotos a tus recibos o cargalos en PDF para cruzarlos con tu extracto "),e.k0s())}function $t(n,r){1&n&&(e.j41(0,"ion-list-header"),e.EFF(1," Confirma que la informaci\xf3n no salga cortada o borrosa "),e.k0s())}function Nt(n,r){if(1&n&&(e.j41(0,"div",17)(1,"ion-list"),e.DNE(2,wt,2,0,"ion-list-header",9)(3,$t,2,0,"ion-list-header",9),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",!t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function Yt(n,r){if(1&n&&(e.j41(0,"ion-note"),e.EFF(1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.JRh(t.extracts[t.currentExtract].bills[t.currentBill].name)}}function Lt(n,r){1&n&&e.nrm(0,"ion-progress-bar",68)}function At(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",27)(1,"h3",18),e.EFF(2,"Subir Archivo"),e.k0s(),e.j41(3,"div",31),e.bIt("fileDropped",function(i){e.eBV(t);const a=e.XpG(3);return e.Njj(a.onFileDropped(i,"bills"))}),e.j41(4,"input",62,0),e.bIt("change",function(i){e.eBV(t);const a=e.XpG(3);return e.Njj(a.fileBrowseHandler(i,"bills"))}),e.k0s(),e.j41(6,"div",29),e.nrm(7,"ion-icon",33),e.k0s(),e.DNE(8,Yt,2,1,"ion-note",9)(9,Lt,1,0,"ion-progress-bar",103),e.k0s(),e.j41(10,"ion-note"),e.EFF(11,"Solo puedes subir archivos en PDF "),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("@fadeIn",void 0),e.R7$(),e.Y8G("disabled",t.isUploading),e.R7$(4),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills.length>0&&t.extracts[t.currentExtract].bills[t.currentBill]),e.R7$(),e.Y8G("ngIf",t.isUploading)}}function Xt(n,r){if(1&n&&e.nrm(0,"ion-img",105),2&n){const t=e.XpG(4);e.Y8G("src",t.imageToUpload)}}function Vt(n,r){if(1&n&&(e.j41(0,"ion-col",27),e.DNE(1,Xt,1,1,"ion-img",104),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function Ot(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-col",106)(1,"ion-button",107),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.imageToUpload=void 0)}),e.EFF(2," Eliminar "),e.nrm(3,"ion-icon",61),e.k0s(),e.j41(4,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.uploadBillPhoto())}),e.EFF(5," Confirmar "),e.nrm(6,"ion-icon",109),e.k0s()()}if(2&n){const t=e.XpG(3);e.R7$(4),e.Y8G("disabled",t.isUploading)}}function Ut(n,r){if(1&n&&(e.j41(0,"div",17)(1,"ion-grid")(2,"ion-row"),e.DNE(3,At,12,4,"ion-col",101)(4,Vt,2,1,"ion-col",101)(5,Ot,7,1,"ion-col",102),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload),e.R7$(),e.Y8G("ngIf",t.imageToUpload)}}function Ht(n,r){1&n&&e.nrm(0,"ion-progress-bar",59)}function zt(n,r){1&n&&(e.j41(0,"ion-note"),e.EFF(1,"Analizando..."),e.k0s())}function Jt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-list",17)(1,"ion-list-header"),e.EFF(2," Factura cargada "),e.k0s(),e.j41(3,"ion-item")(4,"ion-label"),e.EFF(5),e.DNE(6,Ht,1,0,"ion-progress-bar",55)(7,zt,2,0,"ion-note",9),e.k0s(),e.j41(8,"ion-button",56),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.deleteBill(i.i))}),e.nrm(9,"ion-icon",57),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("@fadeIn",void 0),e.R7$(5),e.SpI("",t.extracts[t.currentExtract].bills[t.currentBill].vendor," "),e.R7$(),e.Y8G("ngIf",0==t.extracts[t.currentExtract].bills[t.currentBill].status),e.R7$(),e.Y8G("ngIf",0==t.extracts[t.currentExtract].bills[t.currentBill].status)}}function Wt(n,r){1&n&&(e.j41(0,"div",110)(1,"ion-list")(2,"ion-list-header"),e.EFF(3," Confirma la Informaci\xf3n de tu recibo "),e.k0s()()())}function qt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-datetime",120),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(3);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].date,i)||(a.extracts[a.currentExtract].bills[a.currentBill].date=i),e.Njj(i)}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("showDefaultButtons",!0),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].date)}}function Zt(n,r){if(1&n&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme("(",t.code,") ",t.country,"")}}function Kt(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"ion-item")(2,"ion-input",111),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].vendor,i)||(a.extracts[a.currentExtract].bills[a.currentBill].vendor=i),e.Njj(i)}),e.k0s()(),e.j41(3,"ion-item")(4,"ion-label",112),e.EFF(5,"Fecha"),e.k0s(),e.nrm(6,"ion-datetime-button",113),e.k0s(),e.j41(7,"ion-modal",114),e.DNE(8,qt,1,2,"ng-template"),e.k0s(),e.j41(9,"ion-item")(10,"ion-input",115),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].net,i)||(a.extracts[a.currentExtract].bills[a.currentBill].net=i),e.Njj(i)}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-input",116),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].tax,i)||(a.extracts[a.currentExtract].bills[a.currentBill].tax=i),e.Njj(i)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-input",117),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].tip,i)||(a.extracts[a.currentExtract].bills[a.currentBill].tip=i),e.Njj(i)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-input",118),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].total,i)||(a.extracts[a.currentExtract].bills[a.currentBill].total=i),e.Njj(i)}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-select",119),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.extracts[a.currentExtract].bills[a.currentBill].currency,i)||(a.extracts[a.currentExtract].bills[a.currentBill].currency=i),e.Njj(i)}),e.DNE(19,Zt,2,3,"ion-select-option",23),e.k0s()()()}if(2&n){const t=e.XpG(2);e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].vendor),e.R7$(5),e.Y8G("keepContentsMounted",!0),e.R7$(3),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].net),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].tax),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].tip),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].total),e.R7$(2),e.R50("ngModel",t.extracts[t.currentExtract].bills[t.currentBill].currency),e.R7$(),e.Y8G("ngForOf",t.currencies)}}function Qt(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.isSettingBill=!1)}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",122),e.k0s()}}function ei(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextConfirmData())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status)}}function ti(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.finishSettingBill())}),e.EFF(1," Confirmar "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status||""==t.extracts[t.currentExtract].bills[t.currentBill].currency)}}function ii(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",94),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onWillDismissAddBill())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Subir Recibo"),e.k0s()()(),e.j41(7,"ion-content"),e.DNE(8,Nt,4,2,"div",21)(9,Ut,6,3,"div",21)(10,Jt,10,4,"ion-list",21)(11,Wt,4,0,"div",96)(12,Kt,20,8,"div",97),e.k0s(),e.j41(13,"ion-footer",98),e.DNE(14,Qt,3,0,"ion-button",99)(15,ei,3,1,"ion-button",100)(16,ti,3,1,"ion-button",100),e.k0s()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",0==t.isSettingBill),e.R7$(),e.Y8G("ngIf",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&0==t.isSettingBill),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",t.extracts[t.currentExtract].bills&&t.extracts[t.currentExtract].bills[t.currentBill]&&1==t.isSettingBill),e.R7$(2),e.Y8G("ngIf",1==t.currentStep&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",0==t.isSettingBill&&!t.imageToUpload),e.R7$(),e.Y8G("ngIf",1==t.isSettingBill)}}function ni(n,r){if(1&n&&e.nrm(0,"ion-img",135),2&n){const t=e.XpG(2);e.Y8G("src",t.sanitizeImage(t.editLineReceipt.blob))}}function oi(n,r){if(1&n&&e.nrm(0,"pdf-viewer",136),2&n){const t=e.XpG(2);e.Y8G("src","data:application/pdf;base64,"+t.editLineReceipt.blob)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function ri(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-datetime",137),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.editLineDate,i)||(a.editLineDate=i),e.Njj(i)}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.editLineDate)}}function ai(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-datetime",138),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG(2);return e.DH7(a.editLineTime,i)||(a.editLineTime=i),e.Njj(i)}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.editLineTime)}}function si(n,r){if(1&n&&(e.j41(0,"ion-select-option",24),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme("",t.country," (",t.code,")")}}function li(n,r){if(1&n&&e.nrm(0,"ion-img",135),2&n){const t=e.XpG(2);e.Y8G("src",t.sanitizeImage(t.editLineExtract.blob))}}function ci(n,r){if(1&n&&e.nrm(0,"pdf-viewer",136),2&n){const t=e.XpG(2);e.Y8G("src","data:application/pdf;base64,"+t.editLineExtract.blob)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function _i(n,r){if(1&n&&(e.j41(0,"ion-chip",127),e.EFF(1),e.nI1(2,"date"),e.nrm(3,"ion-ripple-effect"),e.k0s()),2&n){const t=e.XpG().index,o=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,o.extracts.extract.lines[t].date,"dd/MM/yyyy")," ")}}function di(n,r){1&n&&(e.j41(0,"ion-chip",127),e.EFF(1," No se pudo leer "),e.nrm(2,"ion-ripple-effect"),e.k0s())}function ui(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-datetime",143),e.bIt("ionChange",function(){e.eBV(t);const i=e.XpG().index,a=e.XpG(2);return e.Njj(a.changeDateExtractLine(i))}),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG().index,s=e.XpG(2);return e.DH7(s.extracts.extract.lines[a].date,i)||(s.extracts.extract.lines[a].date=i),e.Njj(i)}),e.k0s()()}if(2&n){const t=e.XpG().index,o=e.XpG(2);e.R7$(),e.R50("ngModel",o.extracts.extract.lines[t].date)}}function gi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-accordion")(1,"ion-item",51)(2,"ion-label")(3,"h4"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"number"),e.k0s()()(),e.j41(8,"div",139)(9,"ion-list")(10,"ion-item",94),e.bIt("click",function(){const i=e.eBV(t).index,a=e.XpG(2);return e.Njj(a.toggleDatesExtracts[i]=!a.toggleDatesExtracts[i])}),e.j41(11,"ion-label"),e.EFF(12,"Fecha:"),e.k0s(),e.DNE(13,_i,4,4,"ion-chip",140)(14,di,3,0,"ion-chip",140),e.k0s(),e.DNE(15,ui,2,1,"ion-item",9),e.j41(16,"ion-item")(17,"ion-input",141),e.mxI("ngModelChange",function(i){const a=e.eBV(t).index,s=e.XpG(2);return e.DH7(s.extracts.extract.lines[a].description,i)||(s.extracts.extract.lines[a].description=i),e.Njj(i)}),e.k0s()(),e.j41(18,"ion-item")(19,"ion-input",142),e.mxI("ngModelChange",function(i){const a=e.eBV(t).index,s=e.XpG(2);return e.DH7(s.extracts.extract.lines[a].amount,i)||(s.extracts.extract.lines[a].amount=i),e.Njj(i)}),e.k0s()()()()()}if(2&n){const t=r.$implicit,o=r.index,i=e.XpG(2);e.R7$(4),e.Lme("",t.date," ",t.description,""),e.R7$(2),e.SpI("$",e.bMT(7,8,t.amount),""),e.R7$(7),e.Y8G("ngIf",i.extracts.extract.lines[o].date&&""!=i.extracts.extract.lines[o].date),e.R7$(),e.Y8G("ngIf",!i.extracts.extract.lines[o].date||""==i.extracts.extract.lines[o].date),e.R7$(),e.Y8G("ngIf",i.toggleDatesExtracts[o]),e.R7$(2),e.R50("ngModel",i.extracts.extract.lines[o].description),e.R7$(2),e.R50("ngModel",i.extracts.extract.lines[o].amount)}}function pi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",56),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.isEdditingLine=!1)}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Editar Linea"),e.k0s()()(),e.j41(7,"ion-content")(8,"ion-list",124)(9,"ion-list-header"),e.EFF(10," Editar Recibo "),e.k0s(),e.DNE(11,ni,1,1,"ion-img",125)(12,oi,1,11,"pdf-viewer",126),e.j41(13,"ion-item",94),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return i.toggleDate=!i.toggleDate,e.Njj(i.toggleTime=!1)}),e.j41(14,"ion-label"),e.EFF(15,"Fecha:"),e.k0s(),e.j41(16,"ion-chip",127),e.EFF(17),e.nI1(18,"date"),e.nrm(19,"ion-ripple-effect"),e.k0s()(),e.DNE(20,ri,2,1,"ion-item",9),e.j41(21,"ion-item",94),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return i.toggleTime=!i.toggleTime,e.Njj(i.toggleDate=!1)}),e.j41(22,"ion-label"),e.EFF(23,"Hora:"),e.k0s(),e.j41(24,"ion-chip",127),e.EFF(25),e.nI1(26,"date"),e.nrm(27,"ion-ripple-effect"),e.k0s()(),e.DNE(28,ai,2,1,"ion-item",9),e.j41(29,"ion-item")(30,"ion-input",128),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.editLineDescription,i)||(a.editLineDescription=i),e.Njj(i)}),e.k0s()(),e.j41(31,"ion-item")(32,"ion-input",129),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.editLineBill,i)||(a.editLineBill=i),e.Njj(i)}),e.k0s()(),e.j41(33,"ion-item")(34,"ion-select",130),e.mxI("ngModelChange",function(i){e.eBV(t);const a=e.XpG();return e.DH7(a.editLineCurrency,i)||(a.editLineCurrency=i),e.Njj(i)}),e.DNE(35,si,2,3,"ion-select-option",23),e.k0s()()(),e.j41(36,"ion-list",124)(37,"ion-list-header"),e.EFF(38," Editar Lineas de Extracto "),e.k0s(),e.DNE(39,li,1,1,"ion-img",125)(40,ci,1,11,"pdf-viewer",126),e.j41(41,"ion-accordion-group",131),e.DNE(42,gi,20,10,"ion-accordion",53),e.k0s()(),e.nrm(43,"div",132),e.k0s(),e.j41(44,"ion-footer",133)(45,"ion-button",107),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.isEdditingLine=!1)}),e.nrm(46,"ion-icon",134),e.EFF(47," Cerrar "),e.k0s(),e.j41(48,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.finishEditLine())}),e.EFF(49," Confirmar "),e.nrm(50,"ion-icon",123),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(8),e.Y8G("inset",!0),e.R7$(3),e.Y8G("ngIf",t.editLineReceipt&&t.isImage(t.editLineReceipt.type)),e.R7$(),e.Y8G("ngIf",t.editLineReceipt&&t.isPdf(t.editLineReceipt.type)),e.R7$(5),e.SpI(" ",e.i5U(18,16,t.editLineDate,"dd/MM/yyyy")," "),e.R7$(3),e.Y8G("ngIf",t.toggleDate),e.R7$(5),e.SpI(" ",e.i5U(26,19,t.editLineTime,"hh:mm aa")," "),e.R7$(3),e.Y8G("ngIf",t.toggleTime),e.R7$(2),e.R50("ngModel",t.editLineDescription),e.R7$(2),e.R50("ngModel",t.editLineBill),e.R7$(2),e.R50("ngModel",t.editLineCurrency),e.R7$(),e.Y8G("ngForOf",t.currencies),e.R7$(),e.Y8G("inset",!0),e.R7$(3),e.Y8G("ngIf",t.editLineExtract&&t.isImage(t.editLineExtract.type)),e.R7$(),e.Y8G("ngIf",t.editLineExtract&&t.isPdf(t.editLineExtract.type)),e.R7$(2),e.Y8G("ngForOf",t.extracts.extract.lines),e.R7$(6),e.Y8G("disabled",""==t.editLineDescription||!t.editLineBill||t.editLineBill<=0)}}function mi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-alert",11),e.bIt("didDismiss",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.dismissDeleteBill())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("isOpen",t.isAlertDeleteBill)("subHeader","De eliminar este recibo")("buttons",t.deleteBillAlertButtons)}}function fi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.createProcess())}),e.EFF(1," Iniciar "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",t.loadingButtons)}}function hi(n,r){if(1&n&&(e.j41(0,"div",144),e.DNE(1,fi,3,1,"ion-button",100),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",0==t.currentStep)}}function bi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",122),e.k0s()}}function xi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",150),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelUploading())}),e.EFF(1," Cancelar "),e.nrm(2,"ion-icon",134),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",t.isUploading)}}function Ei(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",122),e.k0s()}}function vi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.isAlertGoBack=!0)}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",122),e.k0s()}}function ki(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.isSettingBill=!1)}),e.EFF(1," Atr\xe1s "),e.nrm(2,"ion-icon",122),e.k0s()}}function Mi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts||!t.extracts.extract||t.extracts&&t.extracts.extract&&!t.extracts.extract.type||t.extracts&&t.extracts.extract&&!t.extracts.extract.currency)}}function ji(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts||t.extracts&&!t.extracts.bills||t.extracts&&t.extracts.bills&&t.extracts.bills.length<=0||t.checkBillsErrors())}}function Ii(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Siguiente "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.results||t.getNotScheduledStatus())}}function Pi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.uploadImagesBase64())}),e.EFF(1," Finalizar "),e.nrm(2,"ion-icon",109),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.currencyBlockSelected||""==t.currencyBlockSelected||!t.imagesToUpload||t.imagesToUpload.length<=0)}}function Fi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",108),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.confirmData())}),e.EFF(1," Confirmar "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.extracts[t.currentExtract].bills||!t.extracts[t.currentExtract].bills[t.currentBill]||0==t.extracts[t.currentExtract].bills[t.currentBill].status||""==t.extracts[t.currentExtract].bills[t.currentBill].currency)}}function yi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",151),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.sendResult())}),e.EFF(1," Enviar "),e.nrm(2,"ion-icon",123),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("disabled",!t.userName||""==t.userName||!t.userEmail||""==t.userEmail||!t.sendPdf&&!t.sendExcel||t.sendingForm)}}function Ri(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",152),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showMemberships())}),e.EFF(1," Si, guardar "),e.nrm(2,"ion-icon",153),e.k0s()}}function Ti(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",154),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," No lo quiero "),e.nrm(2,"ion-icon",155),e.k0s()}}function Gi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",152),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.showCheckout())}),e.EFF(1," Aceptar "),e.nrm(2,"ion-icon",156),e.k0s()}}function Di(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",121),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.backStep())}),e.EFF(1," Cancelar "),e.k0s()}}function Si(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",154),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.nextStep())}),e.EFF(1," Eliminar "),e.nrm(2,"ion-icon",155),e.k0s()}}function Bi(n,r){if(1&n){const t=e.RV6();e.j41(0,"ion-button",152),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.flushData())}),e.EFF(1," Reiniciar "),e.nrm(2,"ion-icon",157),e.k0s()}}function Ci(n,r){if(1&n&&(e.j41(0,"div",145),e.DNE(1,bi,3,0,"ion-button",99)(2,xi,3,1,"ion-button",146)(3,Ei,3,0,"ion-button",99)(4,vi,3,0,"ion-button",99)(5,ki,3,0,"ion-button",99)(6,Mi,3,1,"ion-button",100)(7,ji,3,1,"ion-button",100)(8,Ii,3,1,"ion-button",100)(9,Pi,3,1,"ion-button",100)(10,Fi,3,1,"ion-button",100)(11,yi,3,1,"ion-button",147)(12,Ri,3,0,"ion-button",148)(13,Ti,3,0,"ion-button",149)(14,Gi,3,0,"ion-button",148)(15,Di,2,0,"ion-button",99)(16,Si,3,0,"ion-button",149)(17,Bi,3,0,"ion-button",148),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",1==t.currentStep&&0==t.isUploadingOther),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&1==t.isUploadingOther),e.R7$(),e.Y8G("ngIf",2==t.currentStep||4==t.currentStep),e.R7$(),e.Y8G("ngIf",3==t.currentStep),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&1==t.isSettingBill&&!t.imageToUpload),e.R7$(),e.Y8G("ngIf",2==t.currentStep),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&!t.isUploadingOther),e.R7$(),e.Y8G("ngIf",3==t.currentStep),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&t.isUploadingOther),e.R7$(),e.Y8G("ngIf",1==t.currentStep&&1==t.isSettingBill),e.R7$(),e.Y8G("ngIf",4==t.currentStep),e.R7$(),e.Y8G("ngIf",6==t.currentStep),e.R7$(),e.Y8G("ngIf",8==t.currentStep),e.R7$(),e.Y8G("ngIf",8==t.currentStep),e.R7$(),e.Y8G("ngIf",9==t.currentStep),e.R7$(),e.Y8G("ngIf",9==t.currentStep),e.R7$(),e.Y8G("ngIf",10==t.currentStep)}}const wi=(0,k.kY)(":enter",[(0,k.iF)({opacity:0}),(0,k.i0)("0.2s 0.1s ease-in",(0,k.iF)({opacity:1}))]),$i=(0,k.hZ)("fadeIn",[wi]),Ni=[{path:"",component:(()=>{var n;class r{constructor(o,i,a,s){this.api=o,this.http=i,this._sanitizer=a,this.changeDetector=s,this.alertButtons=["Ok"],this.deleteExtractAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteExtract()}}],this.deleteLineAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteLine()}}],this.deleteBillAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteBill()}}],this.deleteAllAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Eliminar",role:"confirm",handler:()=>{this.confirmDeleteBillAll()}}],this.goBackAlertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Confirmar",role:"confirm",handler:()=>{this.confirmGoBack()}}],this.currentStep=0,this.loadingButtons=!1,this.notUploaded=[],this.userEmail="",this.userName="",this.openModalMemberships=!1,this.isUploading=!1,this.uploadMessage="Subir archivo",this.currentExtract=0,this.currentBill=0,this.isAlertDeleteExtract=!1,this.idToDelete=0,this.openModalAddBill=!1,this.isAlertDeleteBill=!1,this.isAlertDeleteAll=!1,this.idToDeleteBill=0,this.idToDeleteBillContainer=0,this.isSettingBill=!1,this.sendingForm=!1,this.isEdditingLine=!1,this.isDeletingLine=!1,this.showAlertFounds=!1,this.foundsQty=0,this.imagesToUpload=[],this.showAlertTime=!1,this.isUploadingOther=!1,this.showResults=!1,this.isAlertGoBack=!1,this.toggleDate=!1,this.toggleTime=!1,this.imageMimes=["image/png","image/jpeg"],this.pdfMimes=["application/pdf"]}ngOnInit(){this.getCurrencies(),this.hidrate(),console.log(this.extracts),console.log(this.results)}hidrate(){if(localStorage.getItem("extracts")&&""!=localStorage.getItem("extracts")&&(this.extracts=JSON.parse(localStorage.getItem("extracts"))),localStorage.getItem("result")&&""!=localStorage.getItem("result")&&(this.results=JSON.parse(localStorage.getItem("result"))),localStorage.getItem("currentStep")&&""!=localStorage.getItem("currentStep")&&(this.currentStep=Number(localStorage.getItem("currentStep")),3==this.currentStep&&this.getAnalisysResult()),localStorage.getItem("exportSettings")&&""!=localStorage.getItem("exportSettings")){let i=JSON.parse(localStorage.getItem("exportSettings"));i.userName&&(this.userName=i.userName),i.userEmail&&(this.userEmail=i.userEmail),i.sendPdf&&(this.sendPdf=i.sendPdf),i.sendExcel&&(this.sendExcel=i.sendExcel),i.currencyExchange&&(this.currencyExchange=i.currencyExchange)}localStorage.setItem("exportSettings",JSON.stringify({userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel,currencyExchange:this.currencyExchange}))}cancelUploading(){this.isUploadingOther=!1,this.imagesToUpload=[],this.currencyBlockSelected=void 0}deleteImageToUpload(o){this.imagesToUpload.splice(o,1)}addZero(o){return("0"+o).slice(-2)}getCurrencies(){this.api.read("countries").subscribe(o=>{200==o.status&&(this.currencies=o.body)})}createProcess(){this.loadingButtons=!0,localStorage.getItem("processId")&&null!=localStorage.getItem("processId")&&""!=localStorage.getItem("processId")?(this.currentStep++,this.loadingButtons=!1):(new FormData,this.api.create("processes",{}).subscribe(i=>{201==i.status&&(localStorage.setItem("processId",i.body._id),this.currentStep++),this.loadingButtons=!1})),localStorage.setItem("currentStep",this.currentStep.toString())}nextStep(){this.currentStep++,3==this.currentStep&&this.getAnalisysResult(),localStorage.setItem("currentStep",this.currentStep.toString())}finishProcess(){this.extracts=[],localStorage.removeItem("extracts"),this.results=void 0,localStorage.removeItem("result"),this.exportSettings=void 0,localStorage.removeItem("exportSettings"),this.currentStep=0,localStorage.removeItem("currentStep"),localStorage.removeItem("processId"),this.currentExtract=0,this.currentBill=0,this.sendPdf=void 0,this.sendExcel=void 0,this.currencyExchange=void 0}countNotMatched(){let o=0;return this.results.notMatched.forEach(i=>{o+=i.bill.length}),o}countMatched(){let o=0;return this.results&&this.results.matchedBills&&this.results.matchedBills.forEach(i=>{o+=i.bill.length}),o}getAnalisysResult(){(!localStorage.getItem("result")||""==localStorage.getItem("result"))&&(console.log("extracts before analisys",this.extracts),this.api.create("processes/getResult",this.extracts).subscribe(o=>{console.log("result",o),o.error||(this.results={matchedBills:o.body.matchedExtracts,notMatched:o.body.notMatched,notmatchedExtractLines:o.body.notMatchedExtractLines,startDate:o.body.startDate,endDate:o.body.endDate},localStorage.setItem("result",JSON.stringify(this.results)))}))}confirmGoBack(){this.backStep()}backStep(){this.isSettingBill=!1,3==this.currentStep&&(this.results=void 0,localStorage.removeItem("result")),this.currentStep--,localStorage.setItem("currentStep",this.currentStep.toString())}addExtract(){this.extracts.push({fileName:"Bancolombia_16-04-2024.pdf",uploadedDate:"16/04/2023",id:1})}changeDateBill(){}exportResult(){this.currentStep++,localStorage.setItem("currentStep",this.currentStep.toString())}dismissAlertFounds(){this.showAlertFounds=!1}takePhoto(){fe.getPhoto({quality:90,allowEditing:!0,resultType:Q.DataUrl,source:D.Camera}).then(o=>{this.imagesToUpload.push(o)},o=>{})}deleteBillFromResult(o){}sendResult(){this.sendingForm=!0;let o={lead_name:this.userName,lead_email:this.userEmail.toLowerCase(),process_id:localStorage.getItem("processId")},i={userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel};this.api.create("leads",o).subscribe(a=>{this.api.create("processes/sendResult",{results:this.results,exportSettings:i,userName:this.userName,userEmail:this.userEmail}).subscribe(l=>{202==l.body&&this.currentStep++,this.sendingForm=!1})})}showMemberships(){this.openModalMemberships=!0}showCheckout(){}jumpToStep(o){this.currentStep=o,localStorage.setItem("currentStep",this.currentStep.toString())}flushData(){this.jumpToStep(0)}onWillDismiss(){this.openModalMemberships=!1}onWillDismissEditLine(){this.isEdditingLine=!1,this.selectedLine=void 0}changeExportSettings(){localStorage.setItem("exportSettings",JSON.stringify({userName:this.userName,userEmail:this.userEmail,sendPdf:this.sendPdf,sendExcel:this.sendExcel,currencyExchange:this.currencyExchange}))}showModalAddBill(){this.openModalAddBill=!0,this.currentBill=this.extracts[this.currentExtract].bills.length,this.uploadedBill=""}onWillDismissAddBill(){this.openModalAddBill=!1,this.uploadedBill=""}onFileDropped(o,i){this.uploadFile(o,i)}deleteExtract(o,i){this.isAlertDeleteExtract=!0,this.idToDelete=o,this.documentIdToDelete=i}deleteBill(o,i,a){this.isAlertDeleteBill=!0,this.idToDeleteBill=i,this.documentIdToDelete=a,this.idToDeleteBillContainer=o}deleteAllReceiptsAlert(){this.isAlertDeleteAll=!0}dismissDeleteExtract(){this.isAlertDeleteExtract=!1}dismissDeleteLine(){this.isDeletingLine=!1,this.selectedDeleteLine=void 0}openAddBill(){this.openModalAddBill=!0,this.uploadedBill=""}dismissDeleteBill(){this.isAlertDeleteBill=!1,this.idToDeleteBill=0,this.idToDeleteBillContainer=0}dismissDeleteAll(){this.isAlertDeleteAll=!1}finishSettingBill(){this.isSettingBill=!1,this.currentBill=this.extracts[this.currentExtract].bills.length,this.openModalAddBill=!1}confirmDeleteExtract(){this.extracts.extract=void 0,localStorage.setItem("extracts",JSON.stringify(this.extracts)),this.api.update("documents/"+this.documentIdToDelete,{deleted:!0}).subscribe(o=>{}),this.isAlertDeleteExtract=!1}confirmDeleteBill(){this.extracts.bills[this.idToDeleteBillContainer].bill.splice(this.idToDeleteBill,1),this.extracts.bills[this.idToDeleteBillContainer].bill.length<=0&&this.extracts.bills.splice(this.idToDeleteBillContainer,1),localStorage.setItem("extracts",JSON.stringify(this.extracts)),this.api.update("documents/"+this.documentIdToDelete,{deleted:!0}).subscribe(o=>{}),this.isAlertDeleteBill=!1}confirmDeleteBillAll(){this.extracts.bills.forEach((i,a)=>{i.bill.forEach((s,l)=>{this.api.update("documents/"+s.document_id,{deleted:!0}).subscribe(_=>{console.log(_)})})}),this.extracts.bills=[],localStorage.setItem("extracts",JSON.stringify(this.extracts))}startBillWorker(){this.extracts&&this.extracts.bills&&setTimeout(()=>{this.extracts.bills.forEach((o,i)=>{o.bill.forEach((a,s)=>{if(0==a.status){let l=new FormData;l.append("jobId",a.jobId),this.api.sendForm("aws/getBillAnalysis",l).subscribe(_=>{if(_.status){let c=_.result;this.extracts.bills[i].bill[s].status=1,this.extracts.bills[i].bill[s].confirmed=0,this.extracts.bills[i].bill[s].date=c.date,this.extracts.bills[i].bill[s].net=c.net,this.extracts.bills[i].bill[s].tax=c.tax,this.extracts.bills[i].bill[s].tip=c.tip,this.extracts.bills[i].bill[s].total=c.total,this.extracts.bills[i].bill[s].vendor=c.vendor,localStorage.setItem("extracts",JSON.stringify(this.extracts))}else this.startBillWorker()})}})})},5e3)}changeExtractType(){localStorage.setItem("extracts",JSON.stringify(this.extracts))}nextConfirmData(){this.currentStep=2,this.getAnalisysResult(),localStorage.setItem("currentStep",this.currentStep.toString())}confirmData(){this.isSettingBill=!1,this.extracts[this.currentExtract].bills[this.currentBill].confirmed=1,this.currentBill=this.extracts[this.currentExtract].bills.length,localStorage.setItem("extracts",JSON.stringify(this.extracts)),this.nextStep()}startExtractWorker(){this.extracts&&this.extracts.extract&&setTimeout(()=>{if(0==this.extracts.extract.status){let o=new FormData;o.append("jobId",this.extracts.extract.jobId),this.api.sendForm("aws/getExpenseAnalysis",o).subscribe(i=>{i.status?(this.extracts.extract.status=1,this.extracts.extract.lines=i.result.lines,i.result.name&&""!=i.result.name&&(this.extracts.extract.name=i.result.name),localStorage.setItem("extracts",JSON.stringify(this.extracts))):this.startExtractWorker()})}},5e3)}uploadLineBill(o,i){this.openModalAddBill=!0,this.uploadLineResultId=i,this.uploadedExtractName=o}changeDateExtractLine(o){console.log(this.extracts.extract.lines[o].date)}editLine(o){let i=new Date(o.date+"T"+o.hour);this.editLineDate=i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())+"T00:00",this.editLineTime=i.getFullYear()+"-"+this.addZero(i.getMonth()+1)+"-"+this.addZero(i.getDate())+"T"+i.getHours()+":"+i.getMinutes()+":00",this.editLineDescription=o.vendor,this.editLineBill=o.bill,this.editLineCurrency=o.currency,this.editLineDocId=o.document_id,this.toggleDatesExtracts=[],this.extracts.extract.lines.forEach(a=>{this.toggleDatesExtracts.push(!1)}),this.api.create("uploads/readBlob",{file_name:o.blobName,mimeType:o.mimeType,process_id:localStorage.getItem("processId"),folder:"receipts"}).subscribe(a=>{this.editLineReceipt=a.body,this.changeDetector.detectChanges()}),this.api.create("uploads/readBlob",{file_name:this.extracts.extract.blobName,mimeType:this.extracts.extract.mimeType,process_id:localStorage.getItem("processId"),folder:"extracts"}).subscribe(a=>{this.editLineExtract=a.body,this.changeDetector.detectChanges()}),this.isEdditingLine=!0}sanitizeImage(o){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+o)}isImage(o){return this.imageMimes.indexOf(o)>=0}isPdf(o){return!!o&&this.pdfMimes.indexOf(o)>=0}deleteLine(o,i){this.selectedDeleteLine=[o,i],this.isDeletingLine=!0}deleteNotMatched(o,i,a){this.selectedDeleteLine=[o,i],this.docToDelete=a.document_id,this.isDeletingLine=!0}getNotScheduledStatus(){let o=0;return this.results.notMatched.forEach(i=>{i.bill&&i.bill.length>0&&i.bill.forEach(a=>{o++})}),0!=o}confirmDeleteLine(){this.results.notMatched[this.selectedDeleteLine[0]].bill.splice(this.selectedDeleteLine[1],1),this.results.notMatched[this.selectedDeleteLine[0]].bill.length<=0&&this.results.notMatched.splice(0,1),this.extracts.bills.forEach((o,i)=>{o.bill.forEach((a,s)=>{a.document_id==this.docToDelete&&(this.idToDeleteBillContainer=i,this.idToDeleteBill=s,this.documentIdToDelete=this.docToDelete)})}),this.confirmDeleteBill(),localStorage.setItem("result",JSON.stringify(this.results))}checkMatchStatus(){let o=0;return this.results.forEach(i=>{i.lines.forEach(a=>{a.match||o++})}),o>0?{status:!1,found:o}:{status:!0,found:o}}finishEditLine(){this.extracts.bills.forEach((o,i)=>{o.bill.forEach((a,s)=>{if(a.document_id==this.editLineDocId){let l=new Date(this.editLineDate),_=new Date(this.editLineTime);this.extracts.bills[i].bill[s].date=l.getFullYear()+"-"+this.addZero(l.getMonth()+1)+"-"+this.addZero(l.getDate()),this.extracts.bills[i].bill[s].hour=_.getHours()+":"+_.getMinutes()+":00",this.extracts.bills[i].bill[s].vendor=this.editLineDescription,this.extracts.bills[i].bill[s].currency=this.editLineCurrency,this.extracts.bills[i].bill[s].total=this.editLineBill}})}),this.extracts.extract.lines.forEach((o,i)=>{if(o.date&&""!=o.date&&o.date.indexOf("T")>=0){let a=o.date.split("T");this.extracts.extract.lines[i].date=a[0]}}),this.isEdditingLine=!1,this.results=void 0,localStorage.setItem("extracts",JSON.stringify(this.extracts)),localStorage.removeItem("result"),this.getAnalisysResult()}checkUploadStatus(){if(!this.extracts||this.extracts&&this.extracts.bills.length<=0)return!0;if(this.extracts.bills&&this.extracts.bills.length>0){let o=0;return this.extracts.bills.forEach((i,a)=>{i.bill.forEach(s=>{0==s.status&&o++})}),o>0}return!0}uploadFile(o,i){if(this.showAlertTime=!0,this.isUploading=!0,o.length>0){var a=[];for(const s of o)if(a.push(s),s.size/1048576<=10&&("extracts"==i&&(this.extracts.extract={file:s.name,status:0,lines:[],type:"",currency:""},localStorage.setItem("extracts",JSON.stringify(this.extracts))),"bills"==i)){if(this.extracts&&this.extracts.bills){let l=0;this.extracts.bills.forEach((_,c)=>{_.currency==this.currencyBlockSelected.code&&(l++,this.extracts.bills[c].bill.push({file:s.name,status:0}))}),l<=0&&this.extracts.bills.push({currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:s.name,status:0}]})}else this.extracts={bills:[{currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:s.name,status:0}]}]};localStorage.setItem("extracts",JSON.stringify(this.extracts))}for(let[s,l]of a.entries())if(l.size/1048576<=10)if("extracts"==i){let _=new FormData;_.append("file",l,l.name),_.append("process_id",localStorage.getItem("processId")),_.append("model_id","custom-ikosten-extracts-v2"),this.api.sendForm("uploads/uploadExtract",_).subscribe(c=>{console.log("extract",c);let b=500;c.error||c.body.error?alert("Error subiendo el archivo"):b=1,this.extracts.extract.status=b,this.extracts.extract.lines=c.body.document_result.lines,this.extracts.extract.bankName=c.body.document_result.bankName,this.extracts.extract.startDate=c.body.document_result.startDate,this.extracts.extract.endDate=c.body.document_result.endDate,this.extracts.extract.document_id=c.body.document_id,this.extracts.extract.file_url=c.body.fileUrl,this.extracts.extract.blobName=c.body.document_result.blobName,this.extracts.extract.mimeType=c.body.document_result.mimeType,localStorage.setItem("extracts",JSON.stringify(this.extracts))})}else if("bills"==i){let _=new FormData;_.append("file",l,l.name),_.append("process_id",localStorage.getItem("processId")),_.append("model_id","prebuilt-receipt"),this.api.sendForm("uploads/uploadReceipt",_).subscribe(c=>{console.log(c);let b=500;c.body.error||(b=1);for(let[g,S]of this.extracts.bills.entries())for(let[p,O]of S.bill.entries())S.currency==this.currencyBlockSelected.code&&O.file==c.body.document_result.fileName&&(this.extracts.bills[g].bill[p].status=b,1==b?(this.extracts.bills[g].bill[p].date=c.body.document_result.date,this.extracts.bills[g].bill[p].hour=c.body.document_result.hour,this.extracts.bills[g].bill[p].vendor=c.body.document_result.vendor,this.extracts.bills[g].bill[p].docType=c.body.document_result.docType,this.extracts.bills[g].bill[p].total=c.body.document_result.total,this.extracts.bills[g].bill[p].document_id=c.body.document_id,this.extracts.bills[g].bill[p].file_url=c.body.fileUrl,this.extracts.bills[g].bill[p].mimeType=c.body.document_result.mimeType,this.extracts.bills[g].bill[p].blobName=c.body.document_result.blobName):(this.extracts.bills[g].bill[p].date="",this.extracts.bills[g].bill[p].hour="",this.extracts.bills[g].bill[p].vendor="Error",this.extracts.bills[g].bill[p].docType="",this.extracts.bills[g].bill[p].total=0,this.extracts.bills[g].bill[p].document_id=c.body.document_id,this.extracts.bills[g].bill[p].file_url="",this.extracts.bills[g].bill[p].mimeType="",this.extracts.bills[g].bill[p].blobName=""),localStorage.setItem("extracts",JSON.stringify(this.extracts)))})}this.isUploading=!1,this.isUploadingOther=!1,this.imagesToUpload=[]}}openUploading(){this.currencyBlockSelected=void 0,this.isUploadingOther=!0}checkBillsErrors(){let o=0;return this.extracts.bills.forEach((i,a)=>{i.bill.forEach((s,l)=>{(500==s.status||0==s.status)&&o++})}),0!=o}uploadImagesBase64(){let o=[];this.imagesToUpload.forEach(i=>{const a=Date.now()+"."+i.format,s=this.dataURItoBlob(i.dataUrl),l=new File([s],a,{type:"image/"+i.format});o.push(l)}),this.uploadFile(o,"bills")}dataURItoBlob(o){var i;i=o.split(",")[0].indexOf("base64")>=0?atob(o.split(",")[1]):unescape(o.split(",")[1]);for(var a=o.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(i.length),l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return new Blob([s],{type:a})}_uploadFile(o,i){if(this.isUploading=!0,o.length>0){for(const a of o)if(a.size/1048576<=10){if("extract"==i){let s=new FormData;s.append("file",a,a.name),this.api.sendForm("aws/startExpenseAnalysis",s).subscribe(l=>{l.status?(this.extracts.extract={file:a,name:a.name,jobId:l.result.JobId,status:0,type:"",currency:""},localStorage.setItem("extracts",JSON.stringify(this.extracts)),this.showAlertTime=!0,this.startExtractWorker()):alert("Error subiendo el archivo"),this.isUploading=!1})}else if("bill"==i){let s=new FormData;s.append("file",o[0],o[0].name),s.append("lot_id",localStorage.getItem("processId")),this.api.sendForm("azure/startExpenseAnalysis",s).subscribe(l=>{if(l.status){if(this.showAlertTime=!0,this.extracts&&this.extracts.bills){let _=0;this.extracts.bills.forEach((c,b)=>{c.currency==this.currencyBlockSelected.code&&(_++,this.extracts.bills[b].bill.push({file:o[0],jobId:l.result.JobId,status:0}))}),_<=0&&this.extracts.bills.push({currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:o[0],jobId:l.result.JobId,status:0}]})}else this.extracts={bills:[{currency:this.currencyBlockSelected.code,country:this.currencyBlockSelected.country,bill:[{file:o[0],jobId:l.result.JobId,status:0}]}]};localStorage.setItem("extracts",JSON.stringify(this.extracts)),this.startBillWorker()}else alert("Error subiendo el archivo");this.isUploading=!1,this.isUploadingOther=!1})}}else this.notUploaded.push(a);this.notUploaded.length>0&&alert(this.notUploaded.length+" archivos exceden el m\xe1ximo de 10 MB")}}fileBrowseHandler(o,i){this.uploadFile(o.target.files,i)}}return(n=r).\u0275fac=function(o){return new(o||n)(e.rXU(te),e.rXU(Y.Qq),e.rXU(be.up),e.rXU(e.gRc))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-main"]],decls:34,vars:36,consts:[["fileDrop",""],[3,"translucent"],["color","primary"],["slot","start"],["src","../../../assets/images/icon_resized.png",1,"full-logo-img","logo-header-mobile"],["src","../../../assets/images/icon_resized.png",1,"full-logo-img","logo-header-desktop"],["slot","end"],[1,"content-background"],[1,"responsive_container"],[4,"ngIf"],[3,"willDismiss","isOpen"],["header","\xbfEstas Seguro?",3,"didDismiss","isOpen","subHeader","buttons"],[3,"didDismiss","isOpen","header","subHeader","buttons"],["header","\xbfEstas Seguro?",3,"isOpen","subHeader","buttons","didDismiss",4,"ngIf"],[1,"responsive_footer"],["class","ion-padding d-flex flex-center",4,"ngIf"],["class","ion-padding d-flex flex-justify-space-between",4,"ngIf"],[1,"ion-padding"],[1,"text-center"],["src","../../../assets/images/SVG/Guy/TDV_M50_01.svg"],["class","text-center",4,"ngIf"],["class","ion-padding",4,"ngIf"],["label","Pais","placeholder","Seleccione uno",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ion-padding-top"],["class","ion-margin-top",4,"ngIf"],["size","12"],[1,"takePhoto",2,"margin","auto",3,"click"],[1,"image-place-holder"],["name","camera-outline",2,"width","50px","height","50px"],["appDropFilesInput","",1,"dropzone","dropzoneMobile","ion-margin",2,"margin","auto",3,"fileDropped"],["type","file","accept","image/jpeg,image/png,application/pdf","multiple","true","multiple","true","id","fileDrop",3,"change","disabled"],["name","cloud-upload-outline",2,"width","50px","height","50px"],["class","ion-margin-top","type","indeterminate",4,"ngIf"],["type","indeterminate",1,"ion-margin-top"],[1,"ion-margin-top"],["size","4",4,"ngFor","ngForOf"],["size","4",2,"display","flex","justify-content","center","align-items","center"],["shape","round",1,"add-image-button",3,"click"],["slot","icon-only","size","large","name","add-outline"],["size","4"],["shape","round","color","danger",1,"delete-image-button",3,"click"],["slot","icon-only","size","default","name","trash-outline"],[1,"image-to-upload",3,"src"],[1,"ion-justify-content-center"],["size","12","size-sm","6",4,"ngIf"],["size","12","size-sm","6"],["color","secondary","expand","block",3,"click"],["name","add-outline","slot","end"],[1,"ion-margin-top",3,"value"],["slot","header","color","light"],["slot","content"],[4,"ngFor","ngForOf"],["style","color:red;",4,"ngIf"],["style","margin-top: 10px;","type","indeterminate",4,"ngIf"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],[2,"color","red"],["type","indeterminate",2,"margin-top","10px"],["color","danger","expand","block",3,"click"],["name","trash-outline","slot","end"],["type","file","accept","image/jpeg,image/png,application/pdf","id","fileDrop",3,"change","disabled"],["label","Tipo de pago","placeholder","Seleccione uno",3,"ionChange","ngModelChange","ngModel"],["value","credit"],["value","debit"],["label","Moneda","placeholder","Seleccione una",3,"ionChange","ngModelChange","ngModel"],["lines","none"],["type","indeterminate"],["class","ion-margin-bottom","value","notMatched",4,"ngIf"],["value","matched",1,"ion-margin-bottom"],["value","notMatched"],["slot","header","color","primary"],["slot","content","class","ion-padding-top",4,"ngIf"],["class","ion-margin-bottom",4,"ngIf"],["value","notMatched",1,"ion-margin-bottom"],["slot","header","color","danger"],["slot","content",1,"ion-padding-top"],[1,"bordered-divider"],[1,"no-margin-right"],[1,"no-padding"],["color","primary",3,"click"],[1,"ion-margin-bottom"],["slot","header","color","medium"],["label","Tu Nombre","labelPlacement","floating","placeholder","Ingresa tu nombre",3,"ionChange","ngModelChange","ngModel"],["label","Correo","labelPlacement","floating","placeholder","Ingresa un correo",3,"ionChange","ngModelChange","ngModel"],[3,"ionChange","ngModelChange","ngModel"],[1,"text-center","ion-padding-top"],[3,"sent"],[1,"text-center","bold"],[1,"bold","text-center"],[1,"line-through"],[1,"color-danger"],[1,"bold"],[3,"click"],["expand","block"],["class","",4,"ngIf"],["class","ion-padding ",4,"ngIf"],[1,"d-flex","flex-end",2,"padding","5px"],["color","light","class","button-controll",3,"click",4,"ngIf"],["color","primary","class","button-controll","style","float:right",3,"disabled","click",4,"ngIf"],["size","12",4,"ngIf"],["class","d-flex flex-justify-space-between","size","12",4,"ngIf"],["type","indeterminate",4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"],["size","12",1,"d-flex","flex-justify-space-between"],["color","danger",1,"button-controll",2,"float","right",3,"click"],["color","primary",1,"button-controll",2,"float","right",3,"click","disabled"],["name","checkmark-outline","slot","end"],[1,""],["label","Titulo del Recibo","labelPlacement","floating","placeholder","Ingresa titulo",3,"ngModelChange","ngModel"],[2,"margin-left","3px"],["datetime","datetime"],[3,"keepContentsMounted"],["label","Neto","labelPlacement","floating","placeholder","Ingresa neto",3,"ngModelChange","ngModel"],["label","IVA","labelPlacement","floating","placeholder","Ingresa IVA",3,"ngModelChange","ngModel"],["label","Propina","labelPlacement","floating","placeholder","Ingresa propina",3,"ngModelChange","ngModel"],["label","Total","labelPlacement","floating","placeholder","Ingresa total",3,"ngModelChange","ngModel"],["label","Moneda","placeholder","Seleccione una",3,"ngModelChange","ngModel"],["presentation","date","id","datetime",3,"ngModelChange","showDefaultButtons","ngModel"],["color","light",1,"button-controll",3,"click"],["name","arrow-back-outline","slot","start"],["name","arrow-forward-outline","slot","end"],[3,"inset"],["class","viewer-image",3,"src",4,"ngIf"],["style","display: block; height: 300px;",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","render-text","external-link-target","autoresize","show-borders",4,"ngIf"],[1,"chip-date"],["label","Vendedor","labelPlacement","floating","placeholder","Ingresa el vendedor",3,"ngModelChange","ngModel"],["label","Valor Recibo","labelPlacement","floating","type","number","min","0","placeholder","Ingresa valor en el recibo",3,"ngModelChange","ngModel"],["label","Moneda Recibo","placeholder","Seleccione una",3,"ngModelChange","ngModel"],[1,"ion-margin-bottom","ion-margin-top"],[1,"list-spacer"],[1,"d-flex","flex-justify-space-between",2,"padding","5px"],["name","close-outline","slot","start"],[1,"viewer-image",3,"src"],[2,"display","block","height","300px",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","render-text","external-link-target","autoresize","show-borders"],["id","dateLine","presentation","date",2,"width","100%","margin","auto",3,"ngModelChange","ngModel"],["id","hourLine","presentation","time",2,"width","100%","margin","auto",3,"ngModelChange","ngModel"],["slot","content",1,"ion-padding-top","ion-padding-bottom"],["class","chip-date",4,"ngIf"],["label","Descripcion","labelPlacement","floating","placeholder","Ingresa la descripcion",3,"ngModelChange","ngModel"],["label","Valor","labelPlacement","floating","type","number","min","0","placeholder","Ingresa valor en el extracto",3,"ngModelChange","ngModel"],["presentation","date",2,"width","100%","margin","auto",3,"ionChange","ngModelChange","ngModel"],[1,"ion-padding","d-flex","flex-center"],[1,"ion-padding","d-flex","flex-justify-space-between"],["color","danger","class","button-controll",3,"disabled","click",4,"ngIf"],["color","primary","class","button-controll",3,"disabled","click",4,"ngIf"],["color","primary","class","button-controll",3,"click",4,"ngIf"],["color","danger","class","button-controll",3,"click",4,"ngIf"],["color","danger",1,"button-controll",3,"click","disabled"],["color","primary",1,"button-controll",3,"click","disabled"],["color","primary",1,"button-controll",3,"click"],["name","save-outline","slot","start"],["color","danger",1,"button-controll",3,"click"],["name","trash-outline","slot","start"],["name","cart-outline","slot","start"],["name","arrow-undo-outline","slot","start"]],template:function(o,i){1&o&&(e.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-title",3),e.nrm(3,"ion-img",4),e.k0s(),e.j41(4,"ion-buttons",3),e.nrm(5,"ion-img",5),e.k0s(),e.nrm(6,"ion-buttons",6),e.k0s()(),e.j41(7,"ion-content",7)(8,"div",8),e.DNE(9,we,7,1,"div",9)(10,ot,8,5,"div",9)(11,pt,6,3,"div",9)(12,Ft,3,3,"div",9)(13,Tt,3,3,"div",9)(14,Gt,7,1,"div",9)(15,Dt,17,1,"div",9)(16,St,9,1,"div",9)(17,Bt,6,1,"div",9),e.k0s(),e.j41(18,"ion-modal",10),e.bIt("willDismiss",function(){return i.onWillDismiss()}),e.DNE(19,Ct,48,0,"ng-template"),e.k0s(),e.j41(20,"ion-modal",10),e.bIt("willDismiss",function(){return i.onWillDismiss()}),e.DNE(21,ii,17,8,"ng-template"),e.k0s(),e.j41(22,"ion-modal",10),e.bIt("willDismiss",function(){return i.onWillDismissEditLine()}),e.DNE(23,pi,51,22,"ng-template"),e.k0s(),e.j41(24,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteExtract()}),e.k0s(),e.j41(25,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteLine()}),e.k0s(),e.j41(26,"ion-alert",12),e.bIt("didDismiss",function(){return i.dismissAlertFounds()}),e.k0s(),e.j41(27,"ion-alert",12),e.bIt("didDismiss",function(){return i.showAlertTime=!1}),e.k0s(),e.DNE(28,mi,1,3,"ion-alert",13),e.j41(29,"ion-alert",11),e.bIt("didDismiss",function(){return i.dismissDeleteAll()}),e.k0s(),e.j41(30,"ion-alert",11),e.bIt("didDismiss",function(){return i.isAlertGoBack=!1}),e.k0s()(),e.j41(31,"ion-footer",14),e.DNE(32,hi,2,1,"div",15)(33,Ci,18,17,"div",16),e.k0s()),2&o&&(e.Y8G("translucent",!0),e.R7$(9),e.Y8G("ngIf",0==i.currentStep),e.R7$(),e.Y8G("ngIf",1==i.currentStep),e.R7$(),e.Y8G("ngIf",2==i.currentStep),e.R7$(),e.Y8G("ngIf",3==i.currentStep),e.R7$(),e.Y8G("ngIf",4==i.currentStep),e.R7$(),e.Y8G("ngIf",5==i.currentStep),e.R7$(),e.Y8G("ngIf",8==i.currentStep),e.R7$(),e.Y8G("ngIf",9==i.currentStep),e.R7$(),e.Y8G("ngIf",10==i.currentStep),e.R7$(),e.Y8G("isOpen",i.openModalMemberships),e.R7$(2),e.Y8G("isOpen",i.openModalAddBill),e.R7$(2),e.Y8G("isOpen",i.isEdditingLine),e.R7$(2),e.Y8G("isOpen",i.isAlertDeleteExtract)("subHeader","Eliminar tu extracto")("buttons",i.deleteExtractAlertButtons),e.R7$(),e.Y8G("isOpen",i.isDeletingLine)("subHeader","De eliminar esta linea?")("buttons",i.deleteLineAlertButtons),e.R7$(),e.Y8G("isOpen",i.showAlertFounds)("header","Se encontraron "+i.foundsQty+" lineas que no coinciden")("subHeader","Revisa que cada linea coincida antes de exportar el resultado")("buttons",i.alertButtons),e.R7$(),e.Y8G("isOpen",i.showAlertTime)("header","Analizar un documento puede tomar hasta 30s")("subHeader","Se paciente...")("buttons",i.alertButtons),e.R7$(),e.Y8G("ngIf",i.extracts),e.R7$(),e.Y8G("isOpen",i.isAlertDeleteAll)("subHeader","De eliminar todos los recibos?")("buttons",i.deleteAllAlertButtons),e.R7$(),e.Y8G("isOpen",i.isAlertGoBack)("subHeader","Si regresas tus cambios no se guardar\xe1n")("buttons",i.goBackAlertButtons),e.R7$(2),e.Y8G("ngIf",0==i.currentStep),e.R7$(),e.Y8G("ngIf",i.currentStep>0))},dependencies:[F.Sq,F.bT,T.BC,T.vS,xe,d.xk,d.YH,d.Zy,d.Jm,d.QW,d.b_,d.I9,d.ME,d.HW,d.tN,d.eY,d.ZB,d.hU,d.W9,d.A9,d.K4,d.M0,d.lO,d.eU,d.iq,d.KW,d.$w,d.uz,d.Dg,d.he,d.nf,d.AF,d.JI,d.FH,d.S7,d.ln,d.Nm,d.Ip,d.BC,d.ai,d.Sb,d.hB,d.su,d.Je,d.Gw,d.T6,Be,ie.c6,F.QX,F.vh],styles:[".checked-state[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #7eb474}.viewer-image[_ngcontent-%COMP%]{max-height:300px;max-width:100%;display:block;margin:auto}.image-to-upload[_ngcontent-%COMP%]{--border-radius: 13px}.responsive_container[_ngcontent-%COMP%], .responsive_footer[_ngcontent-%COMP%]{max-width:800px;display:block;margin:auto}.add-image-button[_ngcontent-%COMP%]{width:50px;height:50px}.delete-image-button[_ngcontent-%COMP%]{position:absolute;top:-14px;left:-11px}.list-spacer[_ngcontent-%COMP%]{height:100px}.checked-state[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #7eb474}.bordered-divider[_ngcontent-%COMP%]{border-radius:13px}ion-accordion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:12px}.unchecked-state[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #ffffff}.unchecked-state[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #c30000}ion-footer[_ngcontent-%COMP%]{background:#fff}ion-list-header[_ngcontent-%COMP%]{font-size:18px}ion-toolbar[_ngcontent-%COMP%]{padding-top:5px!important;padding-bottom:5px!important}.logo-header-desktop[_ngcontent-%COMP%]{display:inline}.logo-header-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 700px){.logo-header-desktop[_ngcontent-%COMP%]{display:none}.logo-header-mobile[_ngcontent-%COMP%]{display:block}.responsive_container[_ngcontent-%COMP%], .responsive_footer[_ngcontent-%COMP%]{width:100%;display:block;margin:auto}}"],data:{animation:[$i]}}),r})()}];let Yi=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[W.iI.forChild(Ni),W.iI]}),r})(),Li=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[F.MD,d.bv]}),r})();var Ai=E(5553);let Xi=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[F.MD,T.YN,Li,d.bv,Yi,Ai.h,ie.Lk]}),r})()}}]);